<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>V·ªçng H·∫£i ƒê√†i</title>

    <style>
      /* Thi·∫øt l·∫≠p c∆° b·∫£n cho mobile view (gi·ªØ l·∫°i) */

      body {
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        font-family: Arial, sans-serif;
        font-size: 16px;
        background-image: url("img/vong_hai_dai.png");
        background-size: 100%;
        background-attachment: fixed;
      }

      .page-container {
        /* Gi·ªõi h·∫°n max-width cho mobile (s·∫Ω thay ƒë·ªïi trong media query) */
        max-width: 450px;
        margin: 0 auto;
        min-height: 100vh;
        position: relative;
        text-decoration: none;
      }
      /* 1. Header & Hero Section (Gi·ªØ nguy√™n) */

      .hero-section {
        height: 250px;
        /* ƒê∆Ø·ªúNG D·∫™N ·∫¢NH: ƒê·∫£m b·∫£o file chua_linh_ung.jpg c√πng c·∫•p */
        background: url("") no-repeat center center/cover;
        position: relative;
        color: white;
        text-align: center;
      }

      .header-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        padding: 15px;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), transparent);
      }

      .nav-icons {
        display: flex;
        justify-content: space-between;
        font-size: 20px;
      }
      /* 3. Footer Navigation (Chuy·ªÉn th√†nh Desktop Nav Bar trong media query) */

      .footer-nav {
        position: fixed;
        /* Gi·ªØ fixed cho mobile */
        bottom: 0;
        left: 0;
        right: 0;
        max-width: 450px;
        margin: 0 auto;
        display: flex;
        justify-content: space-around;
        background-color: white;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        padding: 10px 0;
        z-index: 1000;
      }

      .nav-item {
        text-decoration: none;
        color: #888;
        padding: 10px 15px;
        cursor: pointer;
        text-align: center;
        flex-grow: 1;
        font-size: 14px;
      }

      .nav-item.active {
        color: #1abc9c;
        border-bottom: 2px solid #1abc9c;
      }
      /* 2. Main Content Section (ƒêi·ªÅu ch·ªânh cho mobile) */

      .content-section {
        padding: 15px;
        padding-bottom: 80px;
        /* Ch·ª´a ch·ªó cho mobile nav */
      }

      .info-card,
      .reviews-section,
      .intro-box,
      .chatbot-container-full {
        background-color: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        margin-bottom: 15px;
      }
      /* ---------------------------------------------------- */
      /* --------- MEDIA QUERY CHO M√ÄN H√åNH DESKTOP --------- */
      /* ---------------------------------------------------- */

      @media (min-width: 768px) {
        /* Thay ƒë·ªïi Container Ch√≠nh */
        .page-container {
          max-width: 100%;
        }
        /* Chuy·ªÉn Footer th√†nh Header Navigation Bar */
        .footer-nav {
          position: static;
          max-width: 900px;
          margin: 0 auto;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
          border-radius: 0 0 8px 8px;
          padding: 5px 0;
        }
        .nav-item {
          font-size: 16px;
          flex-grow: 0;
          padding: 10px 30px;
        }
        /* ƒêi·ªÅu ch·ªânh Main Content */
        .content-section {
          max-width: 900px;
          margin: 0 auto;
          padding-top: 20px;
          padding-bottom: 20px;
        }
        /* Styling cho H·ªôp b√¨nh lu·∫≠n m·ªõi */
        .comment-box-container {
          padding-top: 15px;
          border-top: 1px solid #eee;
          margin-top: 15px;
        }
        .comment-box-container h4 {
          margin-top: 0;
          margin-bottom: 10px;
          font-size: 1.1em;
        }
        #comment-input {
          width: 100%;
          padding: 10px;
          margin-bottom: 10px;
          border-radius: 4px;
          box-sizing: border-box;
          /* T√≠nh padding v√†o chi·ªÅu r·ªông */
          font-family: inherit;
          font-size: 14px;
        }
        #submit-comment-button {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 10px 15px;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          display: block;
          /* Chi·∫øm to√†n b·ªô chi·ªÅu ngang */
          width: 100%;
        }
        #submit-comment-button:hover {
          background-color: #007bff;
        }
        /* T·∫Øt Fixed Footer Padding */
        .content-section {
          padding-bottom: 20px;
        }
        /* 1. TTCB (Th√¥ng tin C∆° b·∫£n) - S·ª≠ d·ª•ng Flexbox cho 2 c·ªôt */
        .ttcb-desktop-layout {
          display: flex;
          gap: 20px;
          align-items: flex-start;
        }
        .info-card {
          /* ƒêI·ªÄU CH·ªàNH: M·ªü r·ªông TTCB, chi·∫øm 2 ph·∫ßn */
          flex: 3;
          min-width: 300px;
        }
        .reviews-section {
          /* ƒêI·ªÄU CH·ªàNH: Thu h·∫πp Review, chi·∫øm 1 ph·∫ßn */
          flex: 2;
        }
        /* C·∫£i ti·∫øn hi·ªÉn th·ªã Bi·ªÉu ƒë·ªì v√† L·ªùi khuy√™n */
        .chart-advice-wrapper {
          display: flex;
          gap: 15px;
          margin-top: 15px;
        }
        .chart-container {
          flex: 1;
          margin-top: 0;
        }
        .advice-section {
          flex: 1;
          margin-top: 0;
        }
        /* 2. L·ªãch s·ª≠ - B·ªë c·ª•c ƒë∆°n c·ªôt cho desktop */
        .lichsu-desktop-layout {
          display: flex;
          gap: 30px;
          align-items: flex-start;
        }
        .intro-box {
          flex: 1;
        }
        /* 3. ƒê·∫∑t v√©/Chatbot - M·ªü r·ªông khu v·ª±c chat */
        .chatbot-container-full {
          height: 70vh;
        }
      }
      /* ------------------- STYLING KH√ÅC (Gi·ªØ nguy√™n) ------------------- */

      .hidden {
        display: none !important;
      }

      .chart-container h4 {
        color: #007bff;
        margin-bottom: 10px;
        font-size: 1em;
      }

      .bar-chart {
        display: flex;
        flex-direction: column;
        gap: 8px;
        font-size: 10px;
      }

      .bar-item {
        font-size: 14px;
        display: flex;
        align-items: center;
      }

      .bar-item span:first-child {
        width: 40px;
        flex-shrink: 0;
      }

      .bar {
        height: 15px;
        background-color: #58d8e6;
        border-radius: 3px;
      }

      .advice-section {
        background-color: #e6f7ff;
        border-left: 4px solid #007bff;
        padding: 10px 15px;
        border-radius: 4px;
      }

      .advice-section strong {
        color: #0056b3;
        display: block;
        margin-bottom: 5px;
      }

      .advice-section ul {
        list-style: none;
        padding-left: 0;
        margin: 5px 0 0 0;
        font-size: 0.95em;
      }

      .advice-section li {
        margin-bottom: 5px;
        line-height: 1.4;
      }

      .review-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
      }

      .review-item:last-child {
        border-bottom: none;
      }

      .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
        flex-shrink: 0;
      }

      .rating {
        color: orange;
        margin: 0;
        font-size: 0.9em;
      }

      .tts-header-container {
        display: flex;
        align-items: center;
        background-color: #e0e0ff;
        padding: 15px;
        border-radius: 5px;
        margin: 0 -15px 15px -15px;
        cursor: pointer;
      }

      .tts-icon {
        background-color: #2196f3;
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        margin-right: 15px;
        flex-shrink: 0;
      }

      .tts-text-start-wrapper {
        display: flex;
        flex-direction: column;
      }

      .tts-text-start {
        color: #007bff;
        font-size: 1.5em;
        font-weight: bold;
        margin: 0;
        line-height: 1.2;
      }

      .tts-subheader {
        font-size: 0.8em;
        color: #555;
        margin-top: 3px;
      }

      #tts-status {
        font-size: 0.9em;
        color: #555;
        text-align: center;
        margin-top: 0px;
        margin-bottom: 15px;
      }

      .chat-area {
        flex-grow: 1;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 15px;
        padding: 10px 0;
      }

      .bot-message-wrapper {
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }

      .bot-avatar-small {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: url("https://via.placeholder.com/40?text=AI") no-repeat
          center center/cover;
        flex-shrink: 0;
      }

      .bot-message {
        max-width: 80%;
        background-color: #f7f0ff;
        border: 1px solid #e0d0f5;
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 14px;
        line-height: 1.4;
        align-self: flex-start;
        cursor: pointer;
      }

      .user-message {
        max-width: 80%;
        background-color: #dcf8c6;
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 14px;
        line-height: 1.4;
        align-self: flex-end;
      }

      .user-response-options {
        align-self: flex-end;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 5px;
      }

      .user-button {
        background-color: #f5f5f5;
        border: 1px solid #ddd;
        color: #333;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 13px;
        min-width: 120px;
      }

      .voice-controls {
        display: flex;
        align-items: center;
        background-color: white;
        padding: 10px 0;
        border-top: 1px solid #eee;
      }

      .voice-icon {
        font-size: 24px;
        margin-right: 10px;
        color: #1abc9c;
        cursor: pointer;
      }

      #chat-input {
        flex-grow: 1;
        padding: 8px 15px;
        border: 1px solid #ccc;
        border-radius: 20px;
        font-size: 14px;
        box-sizing: border-box;
      }

      #send-button {
        background-color: #1abc9c;
        color: white;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 18px;
        margin-left: 10px;
        cursor: pointer;
      }

      /* ƒê·ªãnh d·∫°ng ƒë·∫πp cho n·ªôi dung bot tr·∫£ l·ªùi */
      .highlight-box {
        background: rgba(26, 188, 156, 0.08);
        border-left: 4px solid #1abc9c;
        padding: 12px 14px;
        border-radius: 0 8px 8px 8px;
        margin: 10px 0;
        font-size: 14px;
      }
      .price {
        font-weight: bold;
        color: #e67e22;
        font-size: 15px;
      }
      .time {
        color: #27ae60;
        font-weight: bold;
      }
      .tip {
        font-style: italic;
        color: #7f8c8d;
        margin-top: 8px;
        font-size: 13px;
      }
      .emoji {
        font-size: 18px;
      }
    </style>
  </head>

  <body>
    <div class="page-container">
      <header class="hero-section">
        <div class="header-overlay">
          <div class="nav-icons">
            <a href="/index.html" class="back-arrow">üè†</a>
            <a class="favorite-star">‚≠ê</a>
          </div>
          <h1>V·ªçng H·∫£i ƒê√†i</h1>
        </div>
      </header>

      <footer class="footer-nav">
        <a href="#" class="nav-item active" data-section="ttcb-content"
          >Th√¥ng tin c∆° b·∫£n</a
        >
        <a href="#" class="nav-item" data-section="lichsu-content">Chi ti·∫øt</a>
        <a href="#" class="nav-item" data-section="datve-content">ƒê·∫∑t v√©</a>
      </footer>

      <main class="content-section" id="ttcb-content">
        <div class="ttcb-desktop-layout">
          <div class="info-card">
            <h3>Th√¥ng tin c∆° b·∫£n</h3>
            <p><strong>Gi√° v√©:</strong> 40k/ng∆∞·ªùi l·ªõn v√† 10k/hs/sv</p>
            <p>
              <strong>Gi·ªù m·ªü c·ª≠a:</strong> 7h-17h30 ( khung gi·ªù chung c·ªßa Ng≈©
              H√†nh S∆°n )
            </p>

            <div class="chart-advice-wrapper">
              <div class="chart-container">
                <h4>T·∫ßn su·∫•t tham quan:</h4>
                <div class="bar-chart">
                  <div class="bar-item">
                    <span>6h-9h</span>
                    <div class="bar" style="width: 50%; margin-left: 5px"></div>
                  </div>
                  <div class="bar-item">
                    <span>9h-15h</span>
                    <div class="bar" style="width: 90%; margin-left: 5px"></div>
                  </div>
                  <div class="bar-item">
                    <span>15h-17h30</span>
                    <div class="bar" style="width: 50%; margin-left: 5px"></div>
                  </div>
                </div>
              </div>

              <div class="advice-section">
                <strong>L·ªùi khuy√™n:</strong>
                <ul>
                  <li>
                    V·ªçng H·∫£i ƒê√†i l√† m·ªôt ƒëi·ªÉm tham quan cao v√† tho√°ng gi√≥ tr√™n
                    Th·ªßy S∆°n. Kh√°ch s·∫Ω t·∫≠p trung ƒë√¥ng h∆°n ·ªü c√°c hang ƒë·ªông v√†
                    ch√πa (nh∆∞ ƒê·ªông Huy·ªÅn Kh√¥ng, Ch√πa Linh ·ª®ng) do y·∫øu t·ªë t√¢m
                    linh v√† ngh·ªâ m√°t, sau ƒë√≥ m·ªõi di chuy·ªÉn l√™n V·ªçng H·∫£i ƒê√†i.
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="reviews-section">
            <main class="content-section" id="ttcb-content">
              <div class="ttcb-desktop-layout">
                <div class="reviews-section">
                  <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
                  <div class="comment-box-container">
                    <textarea
                      id="comment-input"
                      placeholder="Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n v·ªÅ V·ªçng H·∫£i ƒê√†i..."
                      rows="4"
                    ></textarea>
                    <button id="submit-comment-button">G·ª≠i B√¨nh Lu·∫≠n</button>
                  </div>
                </div>
              </div>
            </main>
            <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
            <div class="review-item">
              <img src="user_avt/avt1.jpg" alt="Avatar A" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <p>Qu√° ƒë·∫πp lu√¥n ·∫•y ch·ª©!</p>
              </div>
            </div>
            <div class="review-item">
              <img src="user_avt/avt2.jpg" alt="Avatar B" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê</p>
                <p>ƒêi h∆°i m·ªát, nh∆∞ng c·∫£nh ƒë·∫πp.</p>
              </div>
            </div>
            <div class="review-item">
              <img src="user_avt/avt3.jpg" alt="Avatar C" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <p>C·∫£nh tr√™n cao ƒë·∫πp nha.</p>
              </div>
            </div>
          </div>
        </div>
      </main>

      <main class="content-section hidden" id="lichsu-content">
        <div class="lichsu-desktop-layout">
          <div>
            <audio id="tts-audio" src="" preload="auto"></audio>

            <div class="intro-box">
              <div class="tts-header-container" id="tts-header">
                <div class="tts-icon">üîä</div>
                <div class="tts-text-start-wrapper">
                  <h2 class="tts-text-start" id="tts-text-start">
                    Xin ch√†o qu√Ω du kh√°ch!
                  </h2>
                  <div class="tts-subheader">
                    <audio src="./audio/v·ªçng h·∫£i ƒë√†i.mp3" controls></audio>
                  </div>
                </div>
              </div>
              <audio src="./audio/v·ªçng h·∫£i ƒë√†i.mp3"></audio>
              <p class="intro-text">
                Xin ch√†o b·∫°n, ch√†o m·ª´ng qu√Ω v·ªã ƒë√£ chinh ph·ª•c nh·ªØng b·∫≠c thang ƒë√°
                ƒë·ªÉ ƒë·∫øn v·ªõi ƒëi·ªÉm cao nh·∫•t, tho√°ng ƒë·∫°t nh·∫•t c·ªßa ng·ªçn Th·ªßy S∆°n. N∆°i
                ch√∫ng ta ƒëang ƒë·ª©ng ƒë√¢y ch√≠nh l√† V·ªçng H·∫£i ƒê√†i.
              </p>

              <h3 class="section-title">I. √ù NGHƒ®A T√äN G·ªåI</h3>
              <p>
                Tr∆∞·ªõc h·∫øt, xin gi·∫£i th√≠ch ng·∫Øn g·ªçn v·ªÅ c√°i t√™n ƒë·∫ßy ch·∫•t th∆° n√†y:
              </p>
              <p>‚Ä¢ V·ªçng: L√† tr√¥ng ng√≥ng, nh√¨n ra xa.</p>
              <p>‚Ä¢ H·∫£i: L√† bi·ªÉn c·∫£.</p>
              <p>‚Ä¢ H·∫£i: L√† bi·ªÉn c·∫£.</p>
              <p>‚Ä¢ ƒê√†i: L√† c√°i ch√≤i, ho·∫∑c n·ªÅn ƒë·∫•t cao b·∫±ng ph·∫≥ng.</p>
              <p>‚Ä¢ V·ªçng H·∫£i ƒê√†i hi·ªÉu ƒë∆°n gi·∫£n l√†: "ƒê√†i cao ng·∫Øm bi·ªÉn".</p>

              <h3 class="section-title">
                II. V·ªçng H·∫£i ƒê√†i hi·ªÉu ƒë∆°n gi·∫£n l√†: "ƒê√†i cao ng·∫Øm bi·ªÉn".
              </h3>
              <p>
                ƒê√¢y kh√¥ng ph·∫£i l√† m·ªôt t·∫£ng ƒë√° ng·∫´u nhi√™n, m√† l√† m·ªôt di t√≠ch l·ªãch
                s·ª≠ c√≥ ni√™n ƒë·∫°i g·∫ßn 200 nƒÉm.
              </p>
              <p>
                ‚Ä¢ NƒÉm x√¢y d·ª±ng: V√†o nƒÉm 1837 (nƒÉm Minh M·∫°ng th·ª© 18), trong m·ªôt
                l·∫ßn vua Minh M·∫°ng ng·ª± du t·ªõi Ng≈© H√†nh S∆°n, ng√†i ƒë√£ say ƒë·∫Øm tr∆∞·ªõc
                c·∫£nh s·∫Øc n∆°i ƒë√¢y.Tr∆∞·ªõc m·∫∑t: L√† Bi·ªÉn ƒê√¥ng bao la, xanh th·∫≥m tr·∫£i
                d√†i ƒë·∫øn t·∫≠n ch√¢n tr·ªùi.
              </p>
              <p>
                ‚Ä¢ Quy·∫øt ƒë·ªãnh c·ªßa Vua: Nh√† vua ƒë√£ cho x√¢y d·ª±ng hai ƒë√†i ng·∫Øm c·∫£nh:
                V·ªçng Giang ƒê√†i (ƒë·ªÉ ng·∫Øm s√¥ng) v√† n∆°i ch√∫ng ta ƒëang ƒë·ª©ng l√† V·ªçng
                H·∫£i ƒê√†i (ƒë·ªÉ ng·∫Øm bi·ªÉn).
              </p>
              <p>
                ‚Ä¢ Ch·ª©ng t√≠ch: B·∫°n c√≥ th·ªÉ nh√¨n th·∫•y t·∫•m bia ƒë√° c·ªï d·ª±ng ngay gi·ªØa
                ƒë√†i. D√π tr·∫£i qua m∆∞a n·∫Øng v√† th·ªùi gian l√†m m√†i m√≤n, nh∆∞ng d√≤ng
                ch·ªØ H√°n "V·ªçng H·∫£i ƒê√†i" kh·∫Øc tr√™n bia v·∫´n l√† minh ch·ª©ng h√πng h·ªìn
                cho d·∫•u ch√¢n c·ªßa v·ªã vua tri·ªÅu Nguy·ªÖn t·ª´ng ƒë·∫∑t t·∫°i ƒë√¢y.
              </p>

              <h3 class="section-title">
                III. T·∫¶M NH√åN TUY·ªÜT T√ÅC (TR·∫¢I NGHI·ªÜM TH·ª∞C T·∫æ)
              </h3>
              <p>
                ƒê·ª©ng t·∫°i v·ªã tr√≠ c·ªßa c√°c b·∫≠c ƒë·∫ø v∆∞∆°ng ng√†y x∆∞a, b·∫°n s·∫Ω thu v√†o
                t·∫ßm m·∫Øt m·ªôt b·ª©c tranh th·ªßy m·∫∑c s·ªëng ƒë·ªông:
              </p>
              <p>
                ‚Ä¢ Tr∆∞·ªõc m·∫∑t: L√† Bi·ªÉn ƒê√¥ng bao la, xanh th·∫≥m tr·∫£i d√†i ƒë·∫øn t·∫≠n
                ch√¢n tr·ªùi
              </p>
              <p>
                ‚Ä¢ Ph√≠a d∆∞·ªõi: L√† b√£i bi·ªÉn Non N∆∞·ªõc v·ªõi tri·ªÅn c√°t tr·∫Øng m·ªãn ‚Äì n∆°i
                t·ª´ng ƒë∆∞·ª£c t·∫°p ch√≠ Forbes b√¨nh ch·ªçn l√† m·ªôt trong nh·ªØng b√£i bi·ªÉn
                ƒë·∫πp nh·∫•t h√†nh tinh.
              </p>
              <p>
                ‚Ä¢ Xa xa: V√†o nh·ªØng ng√†y tr·ªùi trong, qu√Ω v·ªã c√≥ th·ªÉ nh√¨n th·∫•y r√µ
                c·ª•m ƒë·∫£o C√π Lao Ch√†m (H·ªôi An) m·ªù ·∫£o trong s∆∞∆°ng kh√≥i s√≥ng bi·ªÉn.
              </p>
              <p>
                ‚Ä¢ C·∫£m nh·∫≠n: ƒê·ª©ng t·∫°i ƒë√¢y, gi√≥ bi·ªÉn l·ªìng l·ªông th·ªïi v·ªÅ, mang theo
                v·ªã m·∫∑n m√≤i c·ªßa ƒë·∫°i d∆∞∆°ng, b·∫°n s·∫Ω c·∫£m th·∫•y con ng∆∞·ªùi tr·ªü n√™n th·∫≠t
                nh·ªè b√© tr∆∞·ªõc thi√™n nhi√™n h√πng vƒ©.
              </p>

              <h3 class="section-title">IV GI√Å TR·ªä VƒÇN H√ìA - T√ÇM LINH</h3>
              <p>
                V·ªçng H·∫£i ƒê√†i kh√¥ng ch·ªâ l√† ƒëi·ªÉm ng·∫Øm c·∫£nh, m√† c√≤n mang tri·∫øt l√Ω
                c√¢n b·∫±ng:
              </p>
              <p>
                ‚Ä¢ N·∫øu ch√πa chi·ªÅn, hang ƒë·ªông ƒë∆∞a con ng∆∞·ªùi quay v√†o b√™n trong ƒë·ªÉ
                tƒ©nh t√¢m (h∆∞·ªõng n·ªôi).
              </p>
              <p>
                ‚Ä¢ Th√¨ V·ªçng H·∫£i ƒê√†i ƒë∆∞a con ng∆∞·ªùi h∆∞·ªõng ra b√™n ngo√†i, h√≤a h·ª£p v·ªõi
                thi√™n nhi√™n (h∆∞·ªõng ngo·∫°i).
              </p>

              <p>
                ƒê√≥ l√† s·ª± giao h√≤a gi·ªØa ƒê·∫•t v√† Tr·ªùi, gi·ªØa Con ng∆∞·ªùi v√† Bi·ªÉn c·∫£.
              </p>
              <p>
                "B·∫°n h√£y d√†nh √≠t ph√∫t ƒë·ªÉ h√≠t th·ªü b·∫ßu kh√¥ng kh√≠ trong l√†nh n√†y v√†
                ch·ª•p nh·ªØng b·ª©c h√¨nh k·ª∑ ni·ªám v·ªõi t·∫•m bia ƒë√° l·ªãch s·ª≠ c≈©ng nh∆∞ to√†n
                c·∫£nh bi·ªÉn ƒê√† N·∫µng t·ª´ tr√™n cao nh√©."
              </p>
            </div>
          </div>
        </div>
      </main>

      <main class="content-section hidden" id="datve-content">
        <div class="chatbot-container-full">
          <div class="chat-area" id="chat-area">
            <div class="bot-message-wrapper">
              <div class="bot-avatar-small"></div>
              <div class="bot-message" id="initial-bot-message">
                Ch√†o bu·ªïi s√°ng b·∫°n!
                <br /><br />
                H√¥m nay th·ªùi ti·∫øt r·∫•t ƒë·∫πp. <br /><br />
                B·∫°n mu·ªën ƒë·∫∑t v√© ƒë·∫øn thƒÉm V·ªçng H·∫£i ƒê√†i ƒë·ªÉ tham quan kh√¥ng?
              </div>
            </div>

            <div class="user-response-options">
              <button class="user-button copy-suggestion" id="suggest-1">
                ƒê·∫∑t l·ªãch h·∫πn
              </button>
              <button class="user-button copy-suggestion" id="suggest-2">
                C·∫£m ∆°n b·∫°n
              </button>
            </div>
          </div>

          <div class="voice-controls">
            <div class="voice-icon">üé§</div>
            <input
              type="text"
              id="chat-input"
              placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi ho·∫∑c ch·ªçn g·ª£i √Ω..."
            />

            <div id="send-button">‚û§</div>
          </div>
        </div>
      </main>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const navItems = document.querySelectorAll(".footer-nav .nav-item");
        const contentSections = document.querySelectorAll(".content-section");
        const ttsAudio = document.getElementById("tts-audio");
        const ttsStatus = document.getElementById("tts-status");
        const ttsHeader = document.getElementById("tts-header");

        // C√°c ph·∫ßn t·ª≠ Chatbot
        const initialBotMessage = document.getElementById(
          "initial-bot-message"
        );
        const chatInput = document.getElementById("chat-input");
        const suggestionButtons = document.querySelectorAll(
          ".user-button.copy-suggestion"
        );
        const sendButton = document.getElementById("send-button");
        const chatArea = document.getElementById("chat-area");

        // H√†m d√πng chung ƒë·ªÉ copy text v√†o input
        function copyToInput(element) {
          if (chatInput) {
            const cleanedText = element.textContent.replace(/\s+/g, " ").trim();
            chatInput.value = cleanedText;
            chatInput.focus();
          }
        }

        // H√†m x·ª≠ l√Ω g·ª≠i tin nh·∫Øn (M√î PH·ªéNG)
        function sendMessage() {
          const message = chatInput.value.trim();

          if (message === "") {
            return;
          }

          // 1. T·∫°o tin nh·∫Øn ng∆∞·ªùi d√πng
          const userMessageDiv = document.createElement("div");
          userMessageDiv.classList.add("user-message");
          userMessageDiv.textContent = message;

          // 2. Th√™m v√†o khu v·ª±c chat
          chatArea.appendChild(userMessageDiv);

          // 3. X√≥a n·ªôi dung input
          chatInput.value = "";

          // 4. Cu·ªôn xu·ªëng d∆∞·ªõi c√πng ƒë·ªÉ xem tin nh·∫Øn m·ªõi nh·∫•t
          chatArea.scrollTop = chatArea.scrollHeight;

          // --- PH·∫¢N H·ªíI M√î PH·ªéNG C·ª¶A BOT ---
          setTimeout(() => {
            const botResponseWrapper = document.createElement("div");
            botResponseWrapper.classList.add("bot-message-wrapper");

            const avatar = document.createElement("div");
            avatar.classList.add("bot-avatar-small");
            botResponseWrapper.appendChild(avatar);

            const botResponse = document.createElement("div");
            botResponse.classList.add("bot-message");
            // Logic ph·∫£n h·ªìi m√¥ ph·ªèng
            if (message.includes("ƒê·∫∑t l·ªãch h·∫πn")) {
              botResponse.textContent =
                "Tuy·ªát v·ªùi! B·∫°n mu·ªën ƒë·∫∑t l·ªãch cho ng√†y n√†o v√† m·∫•y gi·ªù?";
            } else if (message.includes("C·∫£m ∆°n")) {
              botResponse.textContent =
                "Kh√¥ng c√≥ g√¨, t√¥i r·∫•t s·∫µn l√≤ng ph·ª•c v·ª•.";
            } else {
              botResponse.textContent =
                "T√¥i xin l·ªói, hi·ªán t·∫°i t√¥i ch·ªâ h·ªó tr·ª£ ƒë·∫∑t v√© v√† cung c·∫•p th√¥ng tin c∆° b·∫£n.";
            }
            botResponse.style.cursor = "default";
            botResponseWrapper.appendChild(botResponse);

            chatArea.appendChild(botResponseWrapper);
            chatArea.scrollTop = chatArea.scrollHeight;
          }, 500);
        }

        // --- Thi·∫øt l·∫≠p Listeners ---

        // 1. Chuy·ªÉn ƒë·ªïi Tab
        function switchTab(targetId, targetNav) {
          contentSections.forEach((section) => section.classList.add("hidden"));
          navItems.forEach((nav) => nav.classList.remove("active"));

          const targetSection = document.getElementById(targetId);
          if (targetSection) {
            targetSection.classList.remove("hidden");
            targetNav.classList.add("active");
          }
        }

        navItems.forEach((item) => {
          item.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("data-section");
            switchTab(targetId, this);
          });
        });

        // 2. X·ª≠ l√Ω TTS
        if (ttsHeader) {
          const ttsContent =
            "Xin ch√†o qu√Ω du kh√°ch! T√¥i xin ƒë∆∞·ª£c gi·ªõi thi·ªáu ƒë·∫øn qu√Ω v·ªã Ch√πa Linh ·ª®ng ‚Äì Ng≈© H√†nh S∆°n, m·ªôt trong nh·ªØng ng√¥i ch√πa linh thi√™ng v√† n·ªïi ti·∫øng b·∫≠c nh·∫•t ƒê√† N·∫µng, v·ª´a mang gi√° tr·ªã t√¢m linh, v·ª´a l√† ƒëi·ªÉm ƒë·∫øn vƒÉn h√≥a ‚Äì l·ªãch s·ª≠ h·∫•p d·∫´n. Ch√πa ƒë∆∞·ª£c x√¢y d·ª±ng v√†o th·ªùi vua Minh M·∫°ng, kho·∫£ng nƒÉm 1825, v√† n·∫±m tr√™n n√∫i Th·ªßy S∆°n.";

          function generateTTSAudio(text) {
            return "duong_dan_file_tts_thuc_te_cua_ban.mp3";
          }

          ttsHeader.addEventListener("click", function () {
            if (ttsAudio.paused || ttsAudio.ended) {
              ttsStatus.textContent = "ƒêang t·∫£i v√† ph√°t thuy·∫øt minh...";

              const audioUrl = generateTTSAudio(ttsContent);
              ttsAudio.src = audioUrl;

              ttsAudio.play().catch((error) => {
                ttsStatus.textContent =
                  "L·ªói: Kh√¥ng t√¨m th·∫•y file MP3. ƒêang ·ªü ch·∫ø ƒë·ªô m√¥ ph·ªèng.";
              });
            } else {
              ttsAudio.pause();
              ttsStatus.textContent = "ƒê√£ t·∫°m d·ª´ng.";
            }
          });

          ttsAudio.addEventListener("ended", function () {
            ttsStatus.textContent = "Ho√†n th√†nh thuy·∫øt minh.";
          });

          ttsAudio.addEventListener("playing", function () {
            ttsStatus.textContent = "ƒêang ph√°t...";
          });
        }

        // 3. X·ª≠ l√Ω Copy G·ª£i √Ω v√†o Text Box
        if (initialBotMessage) {
          initialBotMessage.addEventListener("click", function () {
            copyToInput(this);
          });
        }
        suggestionButtons.forEach((button) => {
          button.addEventListener("click", function () {
            copyToInput(this);
          });
        });

        // 4. X·ª≠ l√Ω N√∫t G·ª≠i v√† Enter
        if (sendButton) {
          sendButton.addEventListener("click", sendMessage);
        }
        if (chatInput) {
          chatInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              e.preventDefault();
              sendMessage();
            }
          });
        }
      });
    </script>

    <script type="module">
      import { GoogleGenAI } from "https://esm.run/@google/genai";

      const API_KEY = "AIzaSyCh6vSYJFL4Ccj9ur5FsTAvMsihg3lbIC4";
      const genAI = new GoogleGenAI({ apiKey: API_KEY });
      const modelName = "gemini-2.5-flash";
      const SYSTEM_PROMPT = `B·∫°n l√† chatbot t∆∞ v·∫•n du l·ªãch th√¢n thi·ªán t·∫°i khu du l·ªãch Ng≈© H√†nh S∆°n, ƒê√† N·∫µng.
        - Gi·ªõi thi·ªáu c√°c ƒëi·ªÉm: V·ªçng H·∫£i ƒê√†i, ƒê·ªông Huy·ªÅn Kh√¥ng, ƒê·ªông √Çm Ph·ªß, Ch√πa Tam Thai, Ch√πa Linh ·ª®ng...
        - Cung c·∫•p gi√° v√©, gi·ªù m·ªü c·ª≠a, c√°ch di chuy·ªÉn.
        - G·ª£i √Ω l·ªãch tr√¨nh h·ª£p l√Ω cho 1 ng√†y ho·∫∑c n·ª≠a ng√†y.
        - Lu√¥n tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, nhi·ªát t√¨nh, r√µ r√†ng, ng·∫Øn g·ªçn.`;

      const chatInput = document.getElementById("chat-input");
      const sendButton = document.getElementById("send-button");
      const chatArea = document.getElementById("chat-area");

      // G·ª£i √Ω nhanh
      document.querySelectorAll(".copy-suggestion").forEach((btn) => {
        btn.onclick = () => {
          chatInput.value = btn.textContent.trim();
          chatInput.focus();
        };
      });

      window.sendMessage = async function () {
        let message = chatInput.value.trim();
        if (!message) return;

        // Tin nh·∫Øn ng∆∞·ªùi d√πng
        const userDiv = document.createElement("div");
        userDiv.className = "user-message";
        userDiv.textContent = message;
        chatArea.appendChild(userDiv);
        chatInput.value = "";
        chatArea.scrollTop = chatArea.scrollHeight;

        // Tin nh·∫Øn bot (placeholder)
        const botWrapper = document.createElement("div");
        botWrapper.className = "bot-message-wrapper";
        botWrapper.innerHTML = `<div class="bot-avatar-small"></div><div class="bot-message">ƒêang suy nghƒ© ü§î </div>`;
        chatArea.appendChild(botWrapper);
        chatArea.scrollTop = chatArea.scrollHeight;

        try {
          const fullPrompt = SYSTEM_PROMPT + "\n\nNg∆∞·ªùi d√πng: " + message;
          const result = await genAI.models.generateContent({
            model: modelName,
            contents: [{ role: "user", parts: [{ text: fullPrompt }] }],
          });

          // T·ª± ƒë·ªông l√†m ƒë·∫πp n·ªôi dung tr·∫£ v·ªÅ
          let text = result.text
            .replace(/gi√° v√©/gi, '<strong class="price">Gi√° v√©</strong>')
            .replace(/m·ªü c·ª≠a/gi, '<strong class="time">M·ªü c·ª≠a</strong>')
            .replace(/l·ªãch tr√¨nh/gi, "<strong>L·ªãch tr√¨nh g·ª£i √Ω</strong>")
            .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
            .replace(/\n\n/g, '</p><p style="margin:10px 0;">')
            .replace(/\n/g, "<br>");

          // Th√™m box highlight n·∫øu c√≥ th√¥ng tin quan tr·ªçng
          if (text.includes("Gi√° v√©") || text.includes("m·ªü c·ª≠a")) {
            text = `<div class="highlight-box">${text}</div>`;
          }

          botWrapper.querySelector(".bot-message").innerHTML = text;
        } catch (err) {
          console.error(err);
          botWrapper.querySelector(".bot-message").innerHTML =
            "Oops! M√¨nh h∆°i m·ªát t√≠, b·∫°n th·ª≠ l·∫°i sau 10 gi√¢y nh√© ‚ù§Ô∏è";
        }
        chatArea.scrollTop = chatArea.scrollHeight;
      };

      sendButton.addEventListener("click", window.sendMessage);
      chatInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          window.sendMessage();
        }
      });
    </script>
  </body>
</html>
