<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√πa Linh ·ª®ng</title>

    <style>
        /* Thi·∫øt l·∫≠p c∆° b·∫£n cho mobile view (gi·ªØ l·∫°i) */
        
        body {
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            font-family: Arial, sans-serif;
            font-size: 16px;
            background-image: url("./img/danh-thang-ngu-hanh-son-da-nang-002.jpg");
            background-size: 100%;
            background-attachment: fixed;
        }
        
        .page-container {
            /* Gi·ªõi h·∫°n max-width cho mobile (s·∫Ω thay ƒë·ªïi trong media query) */
            max-width: 450px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            text-decoration: none;
        }
        /* 1. Header & Hero Section (Gi·ªØ nguy√™n) */
        
        .hero-section { 
            height: 250px;
            /* ƒê∆Ø·ªúNG D·∫™N ·∫¢NH: ƒê·∫£m b·∫£o file chua_linh_ung.jpg c√πng c·∫•p */
            background: url('') no-repeat center center/cover;
            position: relative;
            color: white;
            text-align: center;
        }
        
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), transparent);
        }
        
        .nav-icons {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
        }
        /* 3. Footer Navigation (Chuy·ªÉn th√†nh Desktop Nav Bar trong media query) */
        
        .footer-nav {
            position: fixed;
            /* Gi·ªØ fixed cho mobile */
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 450px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            background-color: white;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
            padding: 10px 0;
            z-index: 1000;
        }
        
        .nav-item {
            text-decoration: none;
            color: #888;
            padding: 10px 15px;
            cursor: pointer;
            text-align: center;
            flex-grow: 1;
            font-size: 14px;
        }
        
        .nav-item.active {
            color: #1abc9c;
            border-bottom: 2px solid #1abc9c;
        }
        /* 2. Main Content Section (ƒêi·ªÅu ch·ªânh cho mobile) */
        
        .content-section {
            padding: 15px;
            padding-bottom: 80px;
            /* Ch·ª´a ch·ªó cho mobile nav */
        }
        
        .info-card,
        .reviews-section,
        .intro-box,
        .chatbot-container-full {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px;
        }
        /* ---------------------------------------------------- */
        /* --------- MEDIA QUERY CHO M√ÄN H√åNH DESKTOP --------- */
        /* ---------------------------------------------------- */
        
        @media (min-width: 768px) {
            /* Thay ƒë·ªïi Container Ch√≠nh */
            .page-container {
                max-width: 100%;
            }
            /* Chuy·ªÉn Footer th√†nh Header Navigation Bar */
            .footer-nav {
                position: static;
                max-width: 900px;
                margin: 0 auto;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                border-radius: 0 0 8px 8px;
                padding: 5px 0;
            }
            .nav-item {
                font-size: 16px;
                flex-grow: 0;
                padding: 10px 30px;
            }
            /* ƒêi·ªÅu ch·ªânh Main Content */
            .content-section {
                max-width: 900px;
                margin: 0 auto;
                padding-top: 20px;
                padding-bottom: 20px;
            }
            /* Styling cho H·ªôp b√¨nh lu·∫≠n m·ªõi */
            .comment-box-container {
                padding-top: 15px;
                border-top: 1px solid #eee;
                margin-top: 15px;
            }
            .comment-box-container h4 {
                margin-top: 0;
                margin-bottom: 10px;
                font-size: 1.1em;
            }
            #comment-input {
                width: 100%;
                padding: 10px;
                margin-bottom: 10px;
                border-radius: 4px;
                box-sizing: border-box;
                /* T√≠nh padding v√†o chi·ªÅu r·ªông */
                font-family: inherit;
                font-size: 14px;
            }
            #submit-comment-button {
                background-color: #007bff;
                color: white;
                border: none;
                padding: 10px 15px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
                display: block;
                /* Chi·∫øm to√†n b·ªô chi·ªÅu ngang */
                width: 100%;
            }
            #submit-comment-button:hover {
                background-color: #007bff;
            }
            /* T·∫Øt Fixed Footer Padding */
            .content-section {
                padding-bottom: 20px;
            }
            /* 1. TTCB (Th√¥ng tin C∆° b·∫£n) - S·ª≠ d·ª•ng Flexbox cho 2 c·ªôt */
            .ttcb-desktop-layout {
                display: flex;
                gap: 20px;
                align-items: flex-start;
            }
            .info-card {
                /* ƒêI·ªÄU CH·ªàNH: M·ªü r·ªông TTCB, chi·∫øm 2 ph·∫ßn */
                flex: 3;
                min-width: 300px;
            }
            .reviews-section {
                /* ƒêI·ªÄU CH·ªàNH: Thu h·∫πp Review, chi·∫øm 1 ph·∫ßn */
                flex: 2;
            }
            /* C·∫£i ti·∫øn hi·ªÉn th·ªã Bi·ªÉu ƒë·ªì v√† L·ªùi khuy√™n */
            .chart-advice-wrapper {
                display: flex;
                gap: 15px;
                margin-top: 15px;
            }
            .chart-container {
                flex: 1;
                margin-top: 0;
            }
            .advice-section {
                flex: 1;
                margin-top: 0;
            }
            /* 2. L·ªãch s·ª≠ - B·ªë c·ª•c ƒë∆°n c·ªôt cho desktop */
            .lichsu-desktop-layout {
                display: flex;
                gap: 30px;
                align-items: flex-start;
            }
            .intro-box {
                flex: 1;
            }
            /* 3. ƒê·∫∑t v√©/Chatbot - M·ªü r·ªông khu v·ª±c chat */
            .chatbot-container-full {
                height: 70vh;
            }
        }
        /* ------------------- STYLING KH√ÅC (Gi·ªØ nguy√™n) ------------------- */
        
        .hidden {
            display: none !important;
        }
        
        .chart-container h4 {
            color: #007bff;
            margin-bottom: 10px;
            font-size: 1em;
        }
        
        .bar-chart {
            display: flex;
            flex-direction: column;
            gap: 8px;
            font-size: 14px;
        }
        
        .bar-item {
            display: flex;
            align-items: center;
        }
        
        .bar-item span:first-child {
            width: 40px;
            flex-shrink: 0;
        }
        
        .bar {
            height: 15px;
            background-color: #58d8e6;
            border-radius: 3px;
        }
        
        .advice-section {
            background-color: #e6f7ff;
            border-left: 4px solid #007bff;
            padding: 10px 15px;
            border-radius: 4px;
        }
        
        .advice-section strong {
            color: #0056b3;
            display: block;
            margin-bottom: 5px;
        }
        
        .advice-section ul {
            list-style: none;
            padding-left: 0;
            margin: 5px 0 0 0;
            font-size: 0.95em;
        }
        
        .advice-section li {
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .review-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .review-item:last-child {
            border-bottom: none;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            flex-shrink: 0;
        }
        
        .rating {
            color: orange;
            margin: 0;
            font-size: 0.9em;
        }
        
        .tts-header-container {
            display: flex;
            align-items: center;
            background-color: #e0e0ff;
            padding: 15px;
            border-radius: 5px;
            margin: 0 -15px 15px -15px;
            cursor: pointer;
        }
        
        .tts-icon {
            background-color: #2196f3;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .tts-text-start-wrapper {
            display: flex;
            flex-direction: column;
        }
        
        .tts-text-start {
            color: #007bff;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0;
            line-height: 1.2;
        }
        
        .tts-subheader {
            font-size: 0.8em;
            color: #555;
            margin-top: 3px;
        }
        
        #tts-status {
            font-size: 0.9em;
            color: #555;
            text-align: center;
            margin-top: 0px;
            margin-bottom: 15px;
        }
        
        .chat-area {
            flex-grow: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 10px 0;
        }
        
        .bot-message-wrapper {
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }
        
        .bot-avatar-small {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: url('https://via.placeholder.com/40?text=AI') no-repeat center center/cover;
            flex-shrink: 0;
        }
        
        .bot-message {
            max-width: 80%;
            background-color: #f7f0ff;
            border: 1px solid #e0d0f5;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.4;
            align-self: flex-start;
            cursor: pointer;
        }
        
        .user-message {
            max-width: 80%;
            background-color: #dcf8c6;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.4;
            align-self: flex-end;
        }
        
        .user-response-options {
            align-self: flex-end;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 5px;
        }
        
        .user-button {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            color: #333;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            min-width: 120px;
        }
        
        .voice-controls {
            display: flex;
            align-items: center;
            background-color: white;
            padding: 10px 0;
            border-top: 1px solid #eee;
        }
        
        .voice-icon {
            font-size: 24px;
            margin-right: 10px;
            color: #1abc9c;
            cursor: pointer;
        }
        
        #chat-input {
            flex-grow: 1;
            padding: 8px 15px;
            border: 1px solid #ccc;
            border-radius: 20px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        #send-button {
            background-color: #1abc9c;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
            margin-left: 10px;
            cursor: pointer;
        }

         /* ƒê·ªãnh d·∫°ng ƒë·∫πp cho n·ªôi dung bot tr·∫£ l·ªùi */
        .highlight-box {
            background: rgba(26, 188, 156, 0.08);
            border-left: 4px solid #1abc9c;
            padding: 12px 14px;
            border-radius: 0 8px 8px 8px;
            margin: 10px 0;
            font-size: 14px;
        }
        .price {
            font-weight: bold;
            color: #e67e22;
            font-size: 15px;
        }
        .time {
            color: #27ae60;
            font-weight: bold;
        }
        .tip {
            font-style: italic;
            color: #7f8c8d;
            margin-top: 8px;
            font-size: 13px;
        }
        .emoji {
            font-size: 18px;
        }
    </style>
</head>

<body>

    <div class="page-container">
        <header class="hero-section">
            <div class="header-overlay">
                <div class="nav-icons">
                    <a href="/index.html" class="back-arrow">üè†</a>
                    <a class="favorite-star">‚≠ê</a>
                </div>
                <h1>Ch√πa Linh ·ª®ng</h1>
            </div>
        </header>

        <footer class="footer-nav">
            <a href="#" class="nav-item active" data-section="ttcb-content">Th√¥ng tin c∆° b·∫£n</a>
            <a href="#" class="nav-item" data-section="lichsu-content">Chi ti·∫øt</a>
            <a href="#" class="nav-item" data-section="datve-content">ƒê·∫∑t v√©</a>
        </footer>

        <main class="content-section" id="ttcb-content">
            <div class="ttcb-desktop-layout">
                <div class="info-card">
                    <h3>Th√¥ng tin c∆° b·∫£n</h3>
                    <p><strong>Gi√° v√©:</strong> Free</p>
                    <p><strong>Gi·ªù m·ªü c·ª≠a:</strong> 6:00 - 21:00</p>

                    <div class="chart-advice-wrapper">
                        <div class="chart-container">
                            <h4>T·∫ßn su·∫•t tham quan:</h4>
                            <div class="bar-chart">
                                <div class="bar-item">
                                    <span>6h-9h</span>
                                    <div class="bar" style="width: 25%; margin-left: 5px;"></div>
                                </div>
                                <div class="bar-item">
                                    <span>9h-14h</span>
                                    <div class="bar" style="width: 75%; margin-left: 5px;"></div>
                                </div>
                                <div class="bar-item">
                                    <span>14h-18h</span>
                                    <div class="bar" style="width: 100%; margin-left: 5px;"></div>
                                </div>
                                <div class="bar-item">
                                    <span>18h-21h</span>
                                    <div class="bar" style="width: 50%; margin-left: 5px;"></div>
                                </div>
                            </div>
                        </div>

                        <div class="advice-section">
                            <strong>L·ªùi khuy√™n:</strong>
                            <ul>
                                <li>Gi·ªù ƒë·∫πp: 07:00 - 08:00 s√°ng ho·∫∑c 16:30 chi·ªÅu. (Tr√°nh 11:00 - 13:00).</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="reviews-section">
                    <main class="content-section" id="ttcb-content">
                        <div class="ttcb-desktop-layout">
                            <div class="reviews-section">
                                <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
                                <div class="comment-box-container">
                                    <textarea id="comment-input" placeholder="Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n v·ªÅ Ch√πa Linh ·ª®ng..." rows="4"></textarea>
                                    <button id="submit-comment-button">G·ª≠i B√¨nh Lu·∫≠n</button>
                                </div>

                            </div>
                        </div>
                    </main>
                    <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
                    <div class="review-item">
                        <img src="user_avt/avt1.jpg" alt="Avatar A" class="avatar">
                        <div>
                            <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê</p>
                            <p>Qu√° ƒë·∫πp lu√¥n ·∫•y ch·ª©!</p>
                        </div>
                    </div>
                    <div class="review-item">
                        <img src="user_avt/avt2.jpg" alt="Avatar B" class="avatar">
                        <div>
                            <p class="rating">‚≠ê‚≠ê</p>
                            <p>ƒêi h∆°i m·ªát, nh∆∞ng c·∫£nh ƒë·∫πp.</p>
                        </div>
                    </div>
                    <div class="review-item">
                        <img src="user_avt/avt3.jpg" alt="Avatar C" class="avatar">
                        <div>
                            <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                            <p>C·∫£nh tr√™n cao ƒë·∫πp nha.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <main class="content-section hidden" id="lichsu-content">
            <div class="lichsu-desktop-layout">
                <div>
                    <audio id="tts-audio" src="" preload="auto"></audio>

                    <div class="intro-box">
                        <div class="tts-header-container" id="tts-header">
                            <div class="tts-icon">üîä</div>
                            <div class="tts-text-start-wrapper">
                                <h2 class="tts-text-start" id="tts-text-start">Xin ch√†o qu√Ω du kh√°ch!</h2>
                                <div class="tts-subheader"><audio src="./audio/ch√πa linh ·ª©ng.mp3" controls>üîä</audio></div>
                            </div>
                        </div>

                        <p class="intro-text">Xin ch√†o b·∫°n, d∆∞·ªõi ƒë√¢y l√† c√¢u chuy·ªán l·ªãch s·ª≠ ƒë·∫ßy m√†u s·∫Øc c·ªßa ng√¥i ch√πa ƒë∆∞·ª£c m·ªánh danh l√† "Anh C·∫£" trong "Tam Linh ·ª®ng T·ª±" l·ª´ng danh t·∫°i ƒê√† N·∫µng.</p>

                        <h3 class="section-title">I. V·ªä "ANH C·∫¢" C·ª¶A TAM GI√ÅC T√ÇM LINH</h3>
                        <p>N·∫øu ƒê√† N·∫µng c√≥ ba ng√¥i ch√πa c√πng mang t√™n Linh ·ª®ng t·∫°o th√†nh th·∫ø ch√¢n v·∫°c che ch·ªü cho th√†nh ph·ªë, th√¨ Ch√πa Linh ·ª®ng Ng≈© H√†nh S∆°n ch√≠nh l√† ng∆∞·ªùi anh c·∫£. Kh√¥ng to l·ªõn hay hi·ªán ƒë·∫°i nh∆∞ hai ng∆∞·ªùi em ·ªü B√† N√† hay B√£i B·ª•t, ng√¥i ch√πa n√†y mang trong m√¨nh v·∫ª tr·∫ßm m·∫∑c, r√™u phong c·ªßa m·ªôt ch·ª©ng nh√¢n l·ªãch s·ª≠ ƒë√£ t·ªìn t·∫°i g·∫ßn 200 nƒÉm, n·∫±m an y√™n gi·ªØa ng·ªçn Th·ªßy S∆°n h√πng vƒ©.</p>

                        <h3 class="section-title">II. DUY√äN KH·ªûI T·ª™ M·ªòT CHUY·∫æN NG·ª∞ DU (TH·∫æ K·ª∂ 17 ‚Äì 19)</h3>
                        <p>C√¢u chuy·ªán b·∫Øt ƒë·∫ßu kh√¥ng ph·∫£i t·ª´ nh·ªØng vi√™n g·∫°ch, m√† t·ª´ m·ªôt hang ƒë·ªông b√≠ ·∫©n.</p>
                        <p>‚Ä¢ <strong>Ti·ªÅn th√¢n:</strong> V√†o th·∫ø k·ª∑ 17, n∆°i ƒë√¢y ch·ªâ l√† m·ªôt th·∫£o am nh·ªè mang t√™n D∆∞·ª°ng Ch√¢n Am n·∫±m b√™n c·∫°nh ƒë·ªông T√†ng Ch∆°n, ƒë∆∞·ª£c d·ª±ng l√™n b·ªüi m·ªôt v·ªã ·∫©n sƒ© mu·ªën l√°nh xa tr·∫ßn th·∫ø.</p>
                        <p>‚Ä¢ <strong>D·∫•u ·∫•n Vua Gia Long:</strong> T∆∞∆°ng truy·ªÅn, khi vua Gia Long ƒëi qua v√πng ƒë·∫•t n√†y, ng√†i ƒë√£ c·∫£m m·∫øn c·∫£nh s·∫Øc thanh t·ªãnh t·ª±a ch·ªën b·ªìng lai n√™n ƒë√£ cho tu s·ª≠a v√† ƒë·∫∑t t√™n l√† <em>Ng·ª± Ch·∫ø ·ª®ng Ch√¢n T·ª±</em>.</p>

                        <h3 class="section-title">III. TH·ªúI HO√ÄNG KIM D∆Ø·ªöI TRI·ªÄU MINH M·∫†NG V√Ä "CH·ªÆ K·ª¥ H√öY"</h3>
                        <p>L·ªãch s·ª≠ ng√¥i ch√πa th·ª±c s·ª± b∆∞·ªõc sang trang v√†ng son d∆∞·ªõi tri·ªÅu vua Minh M·∫°ng.</p>
                        <p>‚Ä¢ <strong>Ba l·∫ßn ng·ª± gi√°:</strong> Vua Minh M·∫°ng, m·ªôt v·ªã vua s√πng ƒë·∫°o Ph·∫≠t, ƒë√£ ng·ª± gi√° ƒë·∫øn Ng≈© H√†nh S∆°n ba l·∫ßn. Ch√≠nh ng√†i l√† ng∆∞·ªùi cho x√¢y d·ª±ng l·∫°i ch√πa b·∫±ng g·∫°ch ng√≥i khang trang v√† ƒë·ªïi t√™n th√†nh <em>·ª®ng Ch√¢n T·ª±</em>.</p>
                        <p>‚Ä¢ <strong>T√™n g·ªçi "Linh ·ª®ng":</strong> C√°i t√™n Linh ·ª®ng xu·∫•t hi·ªán v√†o nƒÉm 1891, d∆∞·ªõi tri·ªÅu vua Th√†nh Th√°i. Do ch·ªØ "Ch√¢n" trong t√™n c≈© ph·∫°m v√†o t√™n h√∫y c·ªßa m·ªôt v·ªã vua tri·ªÅu Nguy·ªÖn, n√™n vua Th√†nh Th√°i ƒë√£ ban s·∫Øc phong ƒë·ªïi t√™n ch√πa th√†nh <em>Linh ·ª®ng T·ª±</em>, mang √Ω nghƒ©a s·ª± linh thi√™ng lu√¥n ·ª©ng nghi·ªám. Bi·ªÉn v√†ng s·∫Øc phong hi·ªán v·∫´n ƒë∆∞·ª£c l∆∞u gi·ªØ trang tr·ªçng t·∫°i ch√πa.</p>

                        <h3 class="section-title">IV. GIAI THO·∫†I N√ÄNG C√îNG CH√öA ·∫®N TU</h3>
                        <p>Nh·ªØng giai tho·∫°i ho√†ng t·ªôc g·∫Øn li·ªÅn v·ªõi qu·∫ßn th·ªÉ Ng≈© H√†nh S∆°n ƒë√£ khi·∫øn l·ªãch s·ª≠ ng√¥i ch√πa th√™m ph·∫ßn huy·ªÅn ·∫£o.</p>
                        <p>Theo d√£ s·ª≠, em g√°i vua Minh M·∫°ng (th∆∞·ªùng ƒë∆∞·ª£c g·ªçi l√† c√¥ng ch√∫a Ng·ªçc Lan) v√¨ ch√°n c·∫£nh th·∫ø s·ª± ƒë√£ r≈© b·ªè nhung l·ª•a, v·ªÅ v√πng n√∫i non n√†y ·∫©n tu. D√π c√¢u chuy·ªán th·ª±c h∆∞ c√≤n nhi·ªÅu tranh lu·∫≠n v√† c√≥ th·ªÉ g·∫Øn v·ªõi c√°c ng√¥i ch√πa l√¢n c·∫≠n, nh∆∞ng ch√≠nh l·ªõp s∆∞∆°ng kh√≥i huy·ªÅn t√≠ch ·∫•y ƒë√£ khi·∫øn du kh√°ch ƒë·∫øn ƒë√¢y kh√¥ng ch·ªâ ƒë·ªÉ v√£n c·∫£nh m√† c√≤n ƒë·ªÉ ho√†i ni·ªám.</p>

                        <h3 class="section-title">V. D·∫§U ·∫§N KI·∫æN TR√öC "ƒê·ªòC NH·∫§T V√î NH·ªä"</h3>
                        <p>Kh√°c v·ªõi hai ng√¥i ch√πa Linh ·ª®ng c√≤n l·∫°i h∆∞·ªõng ra bi·ªÉn l·ªõn, Ch√πa Linh ·ª®ng Ng≈© H√†nh S∆°n mang v·∫ª ƒë·∫πp h∆∞·ªõng n·ªôi v√† k·ª≥ b√≠.</p>
                        <p>‚Ä¢ <strong>T∆∞·ª£ng Ph·∫≠t Tr·∫Øng l∆∞ng t·ª±a n√∫i:</strong> ƒêi·ªÉm nh·∫•n ƒë·∫∑c bi·ªát l√† t∆∞·ª£ng Ph·∫≠t Th√≠ch Ca m√†u tr·∫Øng cao kho·∫£ng 10m, t·ªça l·∫°c ngo√†i tr·ªùi, l∆∞ng t·ª±a v·ªØng ch√£i v√†o n√∫i, m·∫∑t h∆∞·ªõng v·ªÅ ph√≠a ch√πa nh∆∞ ƒëang tr·∫ßm t∆∞ quan s√°t th·∫ø th√°i nh√¢n t√¨nh.</p>
                        <p>‚Ä¢ <strong>ƒê·ªông T√†ng Ch∆°n:</strong> N·∫±m ngay sau l∆∞ng ch√πa, ƒë·ªông T√†ng Ch∆°n c√≥ √°nh s√°ng t·ª± nhi√™n len l·ªèi qua c√°c khe ƒë√°, t·∫°o n√™n khung c·∫£nh huy·ªÅn ·∫£o, ƒë√∫ng v·ªõi √Ω nghƒ©a "ch·ª©a ƒë·ª±ng ch√¢n l√Ω".</p>

                    </div>
                </div>
            </div>
        </main>

        <main class="content-section hidden" id="datve-content">
            <div class="chatbot-container-full">
                <div class="chat-area" id="chat-area">
                    <div class="bot-message-wrapper">
                        <div class="bot-avatar-small"></div>
                        <div class="bot-message" id="initial-bot-message">
                            Ch√†o bu·ªïi s√°ng b·∫°n!
                            <br><br> H√¥m nay th·ªùi ti·∫øt r·∫•t ƒë·∫πp.
                            <br><br> B·∫°n mu·ªën ƒë·∫∑t v√© ƒë·∫øn thƒÉm Ch√πa Linh ·ª®ng ƒë·ªÉ tham quan kh√¥ng?
                        </div>
                    </div>

                    <div class="user-response-options">
                        <button class="user-button copy-suggestion" id="suggest-1">ƒê·∫∑t l·ªãch h·∫πn</button>
                        <button class="user-button copy-suggestion" id="suggest-2">C·∫£m ∆°n b·∫°n</button>
                    </div>
                </div>

                <div class="voice-controls">
                    <div class="voice-icon">üé§</div>
                    <input type="text" id="chat-input" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi ho·∫∑c ch·ªçn g·ª£i √Ω...">

                    <div id="send-button">‚û§</div>
                </div>
            </div>
        </main>


    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.footer-nav .nav-item');
            const contentSections = document.querySelectorAll('.content-section');
            const ttsAudio = document.getElementById('tts-audio');
            const ttsStatus = document.getElementById('tts-status');
            const ttsHeader = document.getElementById('tts-header');

            // C√°c ph·∫ßn t·ª≠ Chatbot
            const initialBotMessage = document.getElementById('initial-bot-message');
            const chatInput = document.getElementById('chat-input');
            const suggestionButtons = document.querySelectorAll('.user-button.copy-suggestion');
            const sendButton = document.getElementById('send-button');
            const chatArea = document.getElementById('chat-area');

            // H√†m d√πng chung ƒë·ªÉ copy text v√†o input
            function copyToInput(element) {
                if (chatInput) {
                    const cleanedText = element.textContent.replace(/\s+/g, ' ').trim();
                    chatInput.value = cleanedText;
                    chatInput.focus();
                }
            }

            // H√†m x·ª≠ l√Ω g·ª≠i tin nh·∫Øn (M√î PH·ªéNG)
            function sendMessage() {
                const message = chatInput.value.trim();

                if (message === "") {
                    return;
                }

                // 1. T·∫°o tin nh·∫Øn ng∆∞·ªùi d√πng
                const userMessageDiv = document.createElement('div');
                userMessageDiv.classList.add('user-message');
                userMessageDiv.textContent = message;

                // 2. Th√™m v√†o khu v·ª±c chat
                chatArea.appendChild(userMessageDiv);

                // 3. X√≥a n·ªôi dung input
                chatInput.value = '';

                // 4. Cu·ªôn xu·ªëng d∆∞·ªõi c√πng ƒë·ªÉ xem tin nh·∫Øn m·ªõi nh·∫•t
                chatArea.scrollTop = chatArea.scrollHeight;

                // --- PH·∫¢N H·ªíI M√î PH·ªéNG C·ª¶A BOT ---
                setTimeout(() => {
                    const botResponseWrapper = document.createElement('div');
                    botResponseWrapper.classList.add('bot-message-wrapper');

                    const avatar = document.createElement('div');
                    avatar.classList.add('bot-avatar-small');
                    botResponseWrapper.appendChild(avatar);

                    const botResponse = document.createElement('div');
                    botResponse.classList.add('bot-message');
                    // Logic ph·∫£n h·ªìi m√¥ ph·ªèng
                    if (message.includes("ƒê·∫∑t l·ªãch h·∫πn")) {
                        botResponse.textContent = "Tuy·ªát v·ªùi! B·∫°n mu·ªën ƒë·∫∑t l·ªãch cho ng√†y n√†o v√† m·∫•y gi·ªù?";
                    } else if (message.includes("C·∫£m ∆°n")) {
                        botResponse.textContent = "Kh√¥ng c√≥ g√¨, t√¥i r·∫•t s·∫µn l√≤ng ph·ª•c v·ª•.";
                    } else {
                        botResponse.textContent = "T√¥i xin l·ªói, hi·ªán t·∫°i t√¥i ch·ªâ h·ªó tr·ª£ ƒë·∫∑t v√© v√† cung c·∫•p th√¥ng tin c∆° b·∫£n.";
                    }
                    botResponse.style.cursor = 'default';
                    botResponseWrapper.appendChild(botResponse);

                    chatArea.appendChild(botResponseWrapper);
                    chatArea.scrollTop = chatArea.scrollHeight;

                }, 500);
            }

            // --- Thi·∫øt l·∫≠p Listeners ---

            // 1. Chuy·ªÉn ƒë·ªïi Tab 
            function switchTab(targetId, targetNav) {
                contentSections.forEach(section => section.classList.add('hidden'));
                navItems.forEach(nav => nav.classList.remove('active'));

                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.remove('hidden');
                    targetNav.classList.add('active');
                }
            }

            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('data-section');
                    switchTab(targetId, this);
                });
            });


            // 2. X·ª≠ l√Ω TTS 
            if (ttsHeader) {
                const ttsContent = "Xin ch√†o qu√Ω du kh√°ch! T√¥i xin ƒë∆∞·ª£c gi·ªõi thi·ªáu ƒë·∫øn qu√Ω v·ªã Ch√πa Linh ·ª®ng ‚Äì Ng≈© H√†nh S∆°n, m·ªôt trong nh·ªØng ng√¥i ch√πa linh thi√™ng v√† n·ªïi ti·∫øng b·∫≠c nh·∫•t ƒê√† N·∫µng, v·ª´a mang gi√° tr·ªã t√¢m linh, v·ª´a l√† ƒëi·ªÉm ƒë·∫øn vƒÉn h√≥a ‚Äì l·ªãch s·ª≠ h·∫•p d·∫´n. Ch√πa ƒë∆∞·ª£c x√¢y d·ª±ng v√†o th·ªùi vua Minh M·∫°ng, kho·∫£ng nƒÉm 1825, v√† n·∫±m tr√™n n√∫i Th·ªßy S∆°n.";

                function generateTTSAudio(text) {
                    return 'duong_dan_file_tts_thuc_te_cua_ban.mp3';
                }

                ttsHeader.addEventListener('click', function() {
                    if (ttsAudio.paused || ttsAudio.ended) {
                        ttsStatus.textContent = "ƒêang t·∫£i v√† ph√°t thuy·∫øt minh...";

                        const audioUrl = generateTTSAudio(ttsContent);
                        ttsAudio.src = audioUrl;

                        ttsAudio.play().catch(error => {
                            ttsStatus.textContent = "L·ªói: Kh√¥ng t√¨m th·∫•y file MP3. ƒêang ·ªü ch·∫ø ƒë·ªô m√¥ ph·ªèng.";
                        });

                    } else {
                        ttsAudio.pause();
                        ttsStatus.textContent = "ƒê√£ t·∫°m d·ª´ng.";
                    }
                });

                ttsAudio.addEventListener('ended', function() {
                    ttsStatus.textContent = "Ho√†n th√†nh thuy·∫øt minh.";
                });

                ttsAudio.addEventListener('playing', function() {
                    ttsStatus.textContent = "ƒêang ph√°t...";
                });
            }

            // 3. X·ª≠ l√Ω Copy G·ª£i √Ω v√†o Text Box
            if (initialBotMessage) {
                initialBotMessage.addEventListener('click', function() {
                    copyToInput(this);
                });
            }
            suggestionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    copyToInput(this);
                });
            });

            // 4. X·ª≠ l√Ω N√∫t G·ª≠i v√† Enter
            if (sendButton) {
                sendButton.addEventListener('click', sendMessage);
            }
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
        });
    </script>

    <script type="module">
      import { GoogleGenAI } from "https://esm.run/@google/genai";

      const API_KEY = "AIzaSyCh6vSYJFL4Ccj9ur5FsTAvMsihg3lbIC4";
      const genAI = new GoogleGenAI({ apiKey: API_KEY });
      const modelName = "gemini-2.5-flash";
      const SYSTEM_PROMPT = `B·∫°n l√† chatbot t∆∞ v·∫•n du l·ªãch th√¢n thi·ªán t·∫°i khu du l·ªãch Ng≈© H√†nh S∆°n, ƒê√† N·∫µng.
      - Gi·ªõi thi·ªáu c√°c ƒëi·ªÉm: V·ªçng H·∫£i ƒê√†i, ƒê·ªông Huy·ªÅn Kh√¥ng, ƒê·ªông √Çm Ph·ªß, Ch√πa Tam Thai, Ch√πa Linh ·ª®ng...
      - Cung c·∫•p gi√° v√©, gi·ªù m·ªü c·ª≠a, c√°ch di chuy·ªÉn.
      - G·ª£i √Ω l·ªãch tr√¨nh h·ª£p l√Ω cho 1 ng√†y ho·∫∑c n·ª≠a ng√†y.
      - Lu√¥n tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, nhi·ªát t√¨nh, r√µ r√†ng, ng·∫Øn g·ªçn.`;

      const chatInput = document.getElementById("chat-input");
      const sendButton = document.getElementById("send-button");
      const chatArea = document.getElementById("chat-area");

      // G·ª£i √Ω nhanh
      document.querySelectorAll(".copy-suggestion").forEach((btn) => {
        btn.onclick = () => {
          chatInput.value = btn.textContent.trim();
          chatInput.focus();
        };
      });

      window.sendMessage = async function () {
        let message = chatInput.value.trim();
        if (!message) return;

        // Tin nh·∫Øn ng∆∞·ªùi d√πng
        const userDiv = document.createElement("div");
        userDiv.className = "user-message";
        userDiv.textContent = message;
        chatArea.appendChild(userDiv);
        chatInput.value = "";
        chatArea.scrollTop = chatArea.scrollHeight;

        // Tin nh·∫Øn bot (placeholder)
        const botWrapper = document.createElement("div");
        botWrapper.className = "bot-message-wrapper";
        botWrapper.innerHTML = `<div class="bot-avatar-small"></div><div class="bot-message">ƒêang suy nghƒ© ü§î </div>`;
        chatArea.appendChild(botWrapper);
        chatArea.scrollTop = chatArea.scrollHeight;

        try {
          const fullPrompt = SYSTEM_PROMPT + "\n\nNg∆∞·ªùi d√πng: " + message;
          const result = await genAI.models.generateContent({
            model: modelName,
            contents: [{ role: "user", parts: [{ text: fullPrompt }] }],
          });

          // T·ª± ƒë·ªông l√†m ƒë·∫πp n·ªôi dung tr·∫£ v·ªÅ
          let text = result.text
            .replace(/gi√° v√©/gi, '<strong class="price">Gi√° v√©</strong>')
            .replace(/m·ªü c·ª≠a/gi, '<strong class="time">M·ªü c·ª≠a</strong>')
            .replace(/l·ªãch tr√¨nh/gi, "<strong>L·ªãch tr√¨nh g·ª£i √Ω</strong>")
            .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
            .replace(/\n\n/g, '</p><p style="margin:10px 0;">')
            .replace(/\n/g, "<br>");

          // Th√™m box highlight n·∫øu c√≥ th√¥ng tin quan tr·ªçng
          if (text.includes("Gi√° v√©") || text.includes("m·ªü c·ª≠a")) {text = `<div class="highlight-box">${text}</div>`;
          }

          botWrapper.querySelector(".bot-message").innerHTML = text;
        } catch (err) {
          console.error(err);
          botWrapper.querySelector(".bot-message").innerHTML =
            "Oops! M√¨nh h∆°i m·ªát t√≠, b·∫°n th·ª≠ l·∫°i sau 10 gi√¢y nh√© ‚ù§Ô∏è";
        }
        chatArea.scrollTop = chatArea.scrollHeight;
      };

      sendButton.addEventListener("click", window.sendMessage);
      chatInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          window.sendMessage();
        }
      });
    </script>
</body>

</html>
