<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ƒê·ªông T√†ng Ch∆°n</title>

    <style>
      /* Thi·∫øt l·∫≠p c∆° b·∫£n cho mobile view (gi·ªØ l·∫°i) */

      body {
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        font-family: Arial, sans-serif;
        font-size: 16px;
        background-image: url("img/dong_tang_chon.jpeg");
        background-size: 100%;
        background-attachment: fixed;
      }

      .page-container {
        /* Gi·ªõi h·∫°n max-width cho mobile (s·∫Ω thay ƒë·ªïi trong media query) */
        max-width: 450px;
        margin: 0 auto;
        min-height: 100vh;
        position: relative;
        text-decoration: none;
      }
      /* 1. Header & Hero Section (Gi·ªØ nguy√™n) */

      .hero-section {
        height: 250px;
        /* ƒê∆Ø·ªúNG D·∫™N ·∫¢NH: ƒê·∫£m b·∫£o file chua_linh_ung.jpg c√πng c·∫•p */
        background: url("") no-repeat center center/cover;
        position: relative;
        color: white;
        text-align: center;
      }

      .header-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        padding: 15px;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), transparent);
      }

      .nav-icons {
        display: flex;
        justify-content: space-between;
        font-size: 20px;
      }
      /* 3. Footer Navigation (Chuy·ªÉn th√†nh Desktop Nav Bar trong media query) */

      .footer-nav {
        position: fixed;
        /* Gi·ªØ fixed cho mobile */
        bottom: 0;
        left: 0;
        right: 0;
        max-width: 450px;
        margin: 0 auto;
        display: flex;
        justify-content: space-around;
        background-color: white;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        padding: 10px 0;
        z-index: 1000;
      }

      .nav-item {
        text-decoration: none;
        color: #888;
        padding: 10px 15px;
        cursor: pointer;
        text-align: center;
        flex-grow: 1;
        font-size: 14px;
      }

      .nav-item.active {
        color: #1abc9c;
        border-bottom: 2px solid #1abc9c;
      }
      /* 2. Main Content Section (ƒêi·ªÅu ch·ªânh cho mobile) */

      .content-section {
        padding: 15px;
        padding-bottom: 80px;
        /* Ch·ª´a ch·ªó cho mobile nav */
      }

      .info-card,
      .reviews-section,
      .intro-box,
      .chatbot-container-full {
        background-color: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        margin-bottom: 15px;
      }
      /* ---------------------------------------------------- */
      /* --------- MEDIA QUERY CHO M√ÄN H√åNH DESKTOP --------- */
      /* ---------------------------------------------------- */

      @media (min-width: 768px) {
        /* Thay ƒë·ªïi Container Ch√≠nh */
        .page-container {
          max-width: 100%;
        }
        /* Chuy·ªÉn Footer th√†nh Header Navigation Bar */
        .footer-nav {
          position: static;
          max-width: 900px;
          margin: 0 auto;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
          border-radius: 0 0 8px 8px;
          padding: 5px 0;
        }
        .nav-item {
          font-size: 16px;
          flex-grow: 0;
          padding: 10px 30px;
        }
        /* ƒêi·ªÅu ch·ªânh Main Content */
        .content-section {
          max-width: 900px;
          margin: 0 auto;
          padding-top: 20px;
          padding-bottom: 20px;
        }
        /* Styling cho H·ªôp b√¨nh lu·∫≠n m·ªõi */
        .comment-box-container {
          padding-top: 15px;
          border-top: 1px solid #eee;
          margin-top: 15px;
        }
        .comment-box-container h4 {
          margin-top: 0;
          margin-bottom: 10px;
          font-size: 1.1em;
        }
        #comment-input {
          width: 100%;
          padding: 10px;
          margin-bottom: 10px;
          border-radius: 4px;
          box-sizing: border-box;
          /* T√≠nh padding v√†o chi·ªÅu r·ªông */
          font-family: inherit;
          font-size: 14px;
        }
        #submit-comment-button {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 10px 15px;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          display: block;
          /* Chi·∫øm to√†n b·ªô chi·ªÅu ngang */
          width: 100%;
        }
        #submit-comment-button:hover {
          background-color: #007bff;
        }
        /* T·∫Øt Fixed Footer Padding */
        .content-section {
          padding-bottom: 20px;
        }
        /* 1. TTCB (Th√¥ng tin C∆° b·∫£n) - S·ª≠ d·ª•ng Flexbox cho 2 c·ªôt */
        .ttcb-desktop-layout {
          display: flex;
          gap: 20px;
          align-items: flex-start;
        }
        .info-card {
          /* ƒêI·ªÄU CH·ªàNH: M·ªü r·ªông TTCB, chi·∫øm 2 ph·∫ßn */
          flex: 3;
          min-width: 300px;
        }
        .reviews-section {
          /* ƒêI·ªÄU CH·ªàNH: Thu h·∫πp Review, chi·∫øm 1 ph·∫ßn */
          flex: 2;
        }
        /* C·∫£i ti·∫øn hi·ªÉn th·ªã Bi·ªÉu ƒë·ªì v√† L·ªùi khuy√™n */
        .chart-advice-wrapper {
          display: flex;
          gap: 15px;
          margin-top: 15px;
        }
        .chart-container {
          flex: 1;
          margin-top: 0;
        }
        .advice-section {
          flex: 1;
          margin-top: 0;
        }
        /* 2. L·ªãch s·ª≠ - B·ªë c·ª•c ƒë∆°n c·ªôt cho desktop */
        .lichsu-desktop-layout {
          display: flex;
          gap: 30px;
          align-items: flex-start;
        }
        .intro-box {
          flex: 1;
        }
        /* 3. ƒê·∫∑t v√©/Chatbot - M·ªü r·ªông khu v·ª±c chat */
        .chatbot-container-full {
          height: 70vh;
        }
      }
      /* ------------------- STYLING KH√ÅC (Gi·ªØ nguy√™n) ------------------- */

      .hidden {
        display: none !important;
      }

      .chart-container h4 {
        color: #007bff;
        margin-bottom: 10px;
        font-size: 1em;
      }

      .bar-chart {
        display: flex;
        flex-direction: column;
        gap: 8px;
        font-size: 14px;
      }

      .bar-item {
        display: flex;
        align-items: center;
      }

      .bar-item span:first-child {
        width: 40px;
        flex-shrink: 0;
      }

      .bar {
        height: 15px;
        background-color: #58d8e6;
        border-radius: 3px;
      }

      .advice-section {
        background-color: #e6f7ff;
        border-left: 4px solid #007bff;
        padding: 10px 15px;
        border-radius: 4px;
      }

      .advice-section strong {
        color: #0056b3;
        display: block;
        margin-bottom: 5px;
      }

      .advice-section ul {
        list-style: none;
        padding-left: 0;
        margin: 5px 0 0 0;
        font-size: 0.95em;
      }

      .advice-section li {
        margin-bottom: 5px;
        line-height: 1.4;
      }

      .review-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
      }

      .review-item:last-child {
        border-bottom: none;
      }

      .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
        flex-shrink: 0;
      }

      .rating {
        color: orange;
        margin: 0;
        font-size: 0.9em;
      }

      .tts-header-container {
        display: flex;
        align-items: center;
        background-color: #e0e0ff;
        padding: 15px;
        border-radius: 5px;
        margin: 0 -15px 15px -15px;
        cursor: pointer;
      }

      .tts-icon {
        background-color: #2196f3;
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        margin-right: 15px;
        flex-shrink: 0;
      }

      .tts-text-start-wrapper {
        display: flex;
        flex-direction: column;
      }

      .tts-text-start {
        color: #007bff;
        font-size: 1.5em;
        font-weight: bold;
        margin: 0;
        line-height: 1.2;
      }

      .tts-subheader {
        font-size: 0.8em;
        color: #555;
        margin-top: 3px;
      }

      #tts-status {
        font-size: 0.9em;
        color: #555;
        text-align: center;
        margin-top: 0px;
        margin-bottom: 15px;
      }

      .chat-area {
        flex-grow: 1;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 15px;
        padding: 10px 0;
      }

      .bot-message-wrapper {
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }

      .bot-avatar-small {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: url("https://via.placeholder.com/40?text=AI") no-repeat
          center center/cover;
        flex-shrink: 0;
      }

      .bot-message {
        max-width: 80%;
        background-color: #f7f0ff;
        border: 1px solid #e0d0f5;
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 14px;
        line-height: 1.4;
        align-self: flex-start;
        cursor: pointer;
      }

      .user-message {
        max-width: 80%;
        background-color: #dcf8c6;
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 14px;
        line-height: 1.4;
        align-self: flex-end;
      }

      .user-response-options {
        align-self: flex-end;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 5px;
      }

      .user-button {
        background-color: #f5f5f5;
        border: 1px solid #ddd;
        color: #333;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 13px;
        min-width: 120px;
      }

      .voice-controls {
        display: flex;
        align-items: center;
        background-color: white;
        padding: 10px 0;
        border-top: 1px solid #eee;
      }

      .voice-icon {
        font-size: 24px;
        margin-right: 10px;
        color: #1abc9c;
        cursor: pointer;
      }

      #chat-input {
        flex-grow: 1;
        padding: 8px 15px;
        border: 1px solid #ccc;
        border-radius: 20px;
        font-size: 14px;
        box-sizing: border-box;
      }

      #send-button {
        background-color: #1abc9c;
        color: white;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 18px;
        margin-left: 10px;
        cursor: pointer;
      }
      /* ƒê·ªãnh d·∫°ng ƒë·∫πp cho n·ªôi dung bot tr·∫£ l·ªùi */
      .highlight-box {
        background: rgba(26, 188, 156, 0.08);
        border-left: 4px solid #1abc9c;
        padding: 12px 14px;
        border-radius: 0 8px 8px 8px;
        margin: 10px 0;
        font-size: 14px;
      }
      .price {
        font-weight: bold;
        color: #e67e22;
        font-size: 15px;
      }
      .time {
        color: #27ae60;
        font-weight: bold;
      }
      .tip {
        font-style: italic;
        color: #7f8c8d;
        margin-top: 8px;
        font-size: 13px;
      }
      .emoji {
        font-size: 18px;
      }
    </style>
  </head>

  <body>
    <div class="page-container">
      <header class="hero-section">
        <div class="header-overlay">
          <div class="nav-icons">
            <a href="/index.html" class="back-arrow">üè†</a>
            <a class="favorite-star">‚≠ê</a>
          </div>
          <h1>ƒê·ªông T√†ng Ch∆°n</h1>
        </div>
      </header>

      <footer class="footer-nav">
        <a href="#" class="nav-item active" data-section="ttcb-content"
          >Th√¥ng tin c∆° b·∫£n</a
        >
        <a href="#" class="nav-item" data-section="lichsu-content">Chi ti·∫øt</a>
        <a href="#" class="nav-item" data-section="datve-content">ƒê·∫∑t v√©</a>
      </footer>

      <main class="content-section" id="ttcb-content">
        <div class="ttcb-desktop-layout">
          <div class="info-card">
            <h3>Th√¥ng tin c∆° b·∫£n</h3>
            <p><strong>Gi√° v√©:</strong> 40k/ng∆∞·ªùi l·ªõn v√† 10k/hs/sv</p>
            <p>
              <strong>Gi·ªù m·ªü c·ª≠a:</strong> 7h-17h30 ( khung gi·ªù chung c·ªßa Ng≈©
              H√†nh S∆°n )
            </p>

            <div class="chart-advice-wrapper">
              <div class="chart-container">
                <h4>T·∫ßn su·∫•t tham quan:</h4>
                <div class="bar-chart">
                  <div class="bar-item">
                    <span>7h-9h</span>
                    <div class="bar" style="width: 70%; margin-left: 5px"></div>
                  </div>
                  <div class="bar-item">
                    <span>9h-12h</span>
                    <div class="bar" style="width: 90%; margin-left: 5px"></div>
                  </div>
                  <div class="bar-item">
                    <span>15h-17h30</span>
                    <div class="bar" style="width: 50%; margin-left: 5px"></div>
                  </div>
                </div>
              </div>

              <div class="advice-section">
                <strong>L·ªùi khuy√™n:</strong>
                <ul>
                  <li>
                    N·∫øu b·∫°n mu·ªën tr√°nh ƒë√¥ng ng∆∞·ªùi, b·∫°n c√≥ th·ªÉ c√¢n nh·∫Øc gh√© thƒÉm
                    v√†o khung gi·ªù gi·ªØa tr∆∞a (kho·∫£ng 11:30 s√°ng - 1:30 chi·ªÅu)
                    ho·∫∑c s√°t gi·ªù ƒë√≥ng c·ª≠a (kho·∫£ng 4:30 chi·ªÅu).
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="reviews-section">
            <main class="content-section" id="ttcb-content">
              <div class="ttcb-desktop-layout">
                <div class="reviews-section">
                  <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
                  <div class="comment-box-container">
                    <textarea
                      id="comment-input"
                      placeholder="Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n v·ªÅ Ch√πa Linh ·ª®ng..."
                      rows="4"
                    ></textarea>
                    <button id="submit-comment-button">G·ª≠i B√¨nh Lu·∫≠n</button>
                  </div>
                </div>
              </div>
            </main>
            <h3>B√¨nh lu·∫≠n ng∆∞·ªùi d√πng</h3>
            <div class="review-item">
              <img src="user_avt/avt1.jpg" alt="Avatar A" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <p>Qu√° ƒë·∫πp lu√¥n ·∫•y ch·ª©!</p>
              </div>
            </div>
            <div class="review-item">
              <img src="user_avt/avt2.jpg" alt="Avatar B" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê</p>
                <p>ƒêi h∆°i m·ªát, nh∆∞ng c·∫£nh ƒë·∫πp.</p>
              </div>
            </div>
            <div class="review-item">
              <img src="user_avt/avt3.jpg" alt="Avatar C" class="avatar" />
              <div>
                <p class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <p>C·∫£nh tr√™n cao ƒë·∫πp nha.</p>
              </div>
            </div>
          </div>
        </div>
      </main>

      <main class="content-section hidden" id="lichsu-content">
        <div class="lichsu-desktop-layout">
          <div>
            <audio id="tts-audio" src="" preload="auto"></audio>

            <div class="intro-box">
              <div class="tts-header-container" id="tts-header">
                <div class="tts-icon">üîä</div>
                <div class="tts-text-start-wrapper">
                  <h2 class="tts-text-start" id="tts-text-start">
                    Xin ch√†o qu√Ω du kh√°ch!
                  </h2>
                  <div class="tts-subheader">L·ªãch s·ª≠</div>
                </div>
              </div>

              <h3 class="section-title">
                ƒê·ªòNG T√ÄNG CH∆†N - N∆†I C·∫§T GI·ªÆ CH√ÇN L√ù
              </h3>
              <p>
                Xin ch√†o b·∫°n, ƒë√¢y l√† m·ªôt ƒë·ªãa ƒëi·ªÉm mang m·ªôt v·∫ª ƒë·∫πp tƒ©nh t·∫°i v√†
                ƒë·∫ßy chi√™m nghi·ªám. Xin m·ªùi b·∫°n h√£y c√πng b∆∞·ªõc qua c·ªïng ƒë√° n√†y ƒë·ªÉ
                v√†o ƒê·ªông T√†ng Ch∆°n.
              </p>

              <h3 class="section-title">I. V·ªä TR√ç V√Ä √ù NGHƒ®A T√äN G·ªåI</h3>
              <p>
                ‚Ä¢ V·ªã tr√≠: ƒê·ªông n·∫±m ngay ph√≠a sau Ch√πa Linh ·ª®ng (ng·ªçn Th·ªßy S∆°n).
                L·ªëi v√†o ƒë·ªông ƒë∆∞·ª£c thi·∫øt k·∫ø nh∆∞ m·ªôt c·ªïng tam quan b·∫±ng ƒë√° t·ª±
                nhi√™n r·∫•t ƒë·∫πp.
              </p>
              <p>‚Ä¢ Chi·∫øt t·ª± t√™n g·ªçi:</p>
              <p>
                &nbsp; &nbsp; &nbsp; &nbsp; ‚Ä¢ T√†ng: Nghƒ©a l√† c·∫•t gi·ªØ, ti·ªÅm ·∫©n.
              </p>
              <p>
                &nbsp; &nbsp; &nbsp; &nbsp; ‚Ä¢ Ch∆°n: (Bi·∫øn √¢m c·ªßa t·ª´ Ch√¢n) Nghƒ©a
                l√† Ch√¢n l√Ω, l√† c√°i Ch√¢n - Thi·ªán - M·ªπ, l√† b·∫£n ch·∫•t th·∫≠t s·ª± c·ªßa
                con ng∆∞·ªùi.
              </p>
              <p>
                ‚Ä¢ √ù nghƒ©a: ƒê·ªông T√†ng Ch∆°n l√† n∆°i c·∫•t gi·ªØ nh·ªØng ch√¢n l√Ω tuy·ªát ƒë·ªëi
                c·ªßa v≈© tr·ª•. Ng∆∞·ªùi x∆∞a tin r·∫±ng, khi b∆∞·ªõc v√†o ƒë√¢y, r≈© b·ªè b·ª•i
                tr·∫ßn, con ng∆∞·ªùi s·∫Ω t√¨m th·∫•y "c√°i t√¥i" ch√¢n th·∫≠t v√† thi·ªán l∆∞∆°ng
                nh·∫•t c·ªßa ch√≠nh m√¨nh.
              </p>

              <h3 class="section-title">
                II. C·∫§U TR√öC: "THUNG L≈®NG" GI·ªÆA L√íNG N√öI
              </h3>
              <p>
                Kh√°c v·ªõi nh·ªØng hang ƒë·ªông k√≠n m√≠t v√† ·∫©m ∆∞·ªõt, T√†ng Ch∆°n c√≥ c·∫•u
                tr√∫c r·∫•t ƒë·ªôc ƒë√°o:
              </p>
              <p>
                ‚Ä¢ Th√¥ng Thi√™n: ƒê·ªông c√≥ v√≤m tr·∫ßn th√¥ng l√™n tr·ªùi (gi·∫øng tr·ªùi t·ª±
                nhi√™n). Nh·ªù v·∫≠y, ban ng√†y √°nh n·∫Øng r·ªçi th·∫≥ng xu·ªëng, gi√≥ l√πa
                th√¥ng tho√°ng, t·∫°o n√™n m·ªôt kh√¥ng gian "D∆∞∆°ng kh√≠" tr√†n ƒë·∫ßy.
              </p>
              <p>
                ‚Ä¢ H√¨nh d√°ng: L√≤ng ƒë·ªông b·∫±ng ph·∫≥ng, r·ªông r√£i nh∆∞ m·ªôt thung l≈©ng
                nh·ªè n·∫±m l·ªçt th·ªèm gi·ªØa c√°c v√°ch ƒë√° d·ª±ng ƒë·ª©ng.
              </p>
              <p>
                ‚Ä¢ C·∫£m gi√°c: B∆∞·ªõc v√†o ƒë√¢y, b·∫°n s·∫Ω th·∫•y kh√¥ng kh√≠ m√°t l·∫°nh, d·ªÖ
                ch·ªãu v√† c·ª±c k·ª≥ y√™n tƒ©nh, t√°ch bi·ªát ho√†n to√†n v·ªõi s·ª± ·ªìn √†o c·ªßa
                ph·ªë x√° b√™n ngo√†i.
              </p>

              <h3 class="section-title">
                III. D·∫§U ·∫§N VƒÇN H√ìA CHAMPA C·ªî (ƒêI·ªÇM NH·∫§N ƒê·∫∂C BI·ªÜT)
              </h3>
              <p>
                ƒê·ªông T√†ng Ch∆°n l√† minh ch·ª©ng s·ªëng ƒë·ªông cho s·ª± giao thoa vƒÉn h√≥a
                l·ªãch s·ª≠ t·∫°i v√πng ƒë·∫•t n√†y.
              </p>
              <p>
                ‚Ä¢ Trong khi n·ªÅn hang th·ªù Ph·∫≠t Th√≠ch Ca v√† ch∆∞ v·ªã B·ªì T√°t theo vƒÉn
                h√≥a Vi·ªát.
              </p>
              <p>
                ‚Ä¢ Th√¨ tr√™n c√°c v√°ch ƒë√° v√† c√°c b·ªá th·ªù, c√°c nh√† kh·∫£o c·ªï ƒë√£ t√¨m
                th·∫•y nh·ªØng d·∫•u t√≠ch ƒëi√™u kh·∫Øc c·ªßa ng∆∞·ªùi ChƒÉm Pa x∆∞a. ƒê√≥ l√† nh·ªØng
                ƒë√†i th·ªù, nh·ªØng h·ªça ti·∫øt trang tr√≠ mang ƒë·∫≠m t√≠n ng∆∞·ª°ng ph·ªìn th·ª±c
                v√† t√¥n gi√°o c·ªßa ng∆∞·ªùi ChƒÉm tr∆∞·ªõc khi ng∆∞·ªùi Vi·ªát v√†o ti·∫øp qu·∫£n.
              </p>
              <p>
                ‚Ä¢ ƒêi·ªÅu n√†y cho th·∫•y, t·ª´ xa x∆∞a, ng·ªçn n√∫i n√†y ƒë√£ l√† ch·ªën linh
                thi√™ng chung c·ªßa nhi·ªÅu n·ªÅn vƒÉn h√≥a.
              </p>

              <h3 class="section-title">
                IV. C√ÅC HANG ƒê·ªòNG NH·ªé B√äN TRONG (H·ªÜ TH·ªêNG LI√äN HO√ÄN)
              </h3>
              <p>
                ƒê·ªông T√†ng Ch∆°n kh√¥ng ch·ªâ c√≥ m·ªôt kh√¥ng gian ch√≠nh, m√† c√≤n d·∫´n l·ªëi
                ƒë·∫øn c√°c "ng√°ch" nh·ªè th√∫ v·ªã kh√°c (g·ªçi l√† hang ph·ª•):
              </p>
              <p>
                ‚Ä¢ Hang Tam Thanh: N∆°i th·ªù 3 v·ªã Th∆∞·ª£ng Thanh, Th√°i Thanh v√† Ng·ªçc
                Thanh. N∆°i ƒë√¢y c√≤n l∆∞u gi·ªØ 2 vƒÉn bia c·ªï ca ng·ª£i v·∫ª ƒë·∫πp c·ªßa danh
                th·∫Øng n√†y.
              </p>
              <p>
                ‚Ä¢ Hang Gi√≥ (ƒê·ªông Thi√™n Long): N∆°i ƒë√≥n gi√≥ bi·ªÉn l·ªìng l·ªông th·ªïi
                v√†o, l√†m m√°t c·∫£ khu v·ª±c ƒë·ªông.
              </p>

              <h3 class="section-title">V. GI√Å TR·ªä TR·∫¢I NGHI·ªÜM</h3>
              <p>
                "ƒê·∫øn ƒê·ªông T√†ng Ch∆°n kh√¥ng ph·∫£i ƒë·ªÉ xem s·ª± k·ª≥ vƒ© cho√°ng ng·ª£p, m√†
                l√† ƒë·ªÉ t√¨m s·ª± An Y√™n.
              </p>
              <p>
                B·∫°n h√£y th·ª≠ nh·∫Øm m·∫Øt l·∫°i 10 gi√¢y, h√≠t m·ªôt h∆°i th·∫≠t s√¢u. B·∫°n s·∫Ω
                nghe th·∫•y ti·∫øng gi√≥ lu·ªìn qua khe ƒë√°, ti·∫øng chim h√≥t v·ªçng t·ª´
                gi·∫øng tr·ªùi v√† c·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± thanh t·ªãnh tuy·ªát ƒë·ªëi trong t√¢m
                h·ªìn. ƒê√≥ ch√≠nh l√† m√≥n qu√† m√† 'T√†ng Ch∆°n' d√†nh t·∫∑ng cho du kh√°ch."
              </p>
            </div>
          </div>
        </div>
      </main>

      <main class="content-section hidden" id="datve-content">
        <div class="chatbot-container-full">
          <div class="chat-area" id="chat-area">
            <div class="bot-message-wrapper">
              <div class="bot-avatar-small"></div>
              <div class="bot-message" id="initial-bot-message">
                Ch√†o bu·ªïi s√°ng b·∫°n!
                <br /><br />
                H√¥m nay th·ªùi ti·∫øt r·∫•t ƒë·∫πp. <br /><br />
                B·∫°n mu·ªën ƒë·∫∑t v√© ƒë·∫øn thƒÉm Ch√πa Linh ·ª®ng ƒë·ªÉ tham quan kh√¥ng?
              </div>
            </div>

            <div class="user-response-options">
              <button class="user-button copy-suggestion" id="suggest-1">
                ƒê·∫∑t l·ªãch h·∫πn
              </button>
              <button class="user-button copy-suggestion" id="suggest-2">
                C·∫£m ∆°n b·∫°n
              </button>
            </div>
          </div>

          <div class="voice-controls">
            <div class="voice-icon">üé§</div>
            <input
              type="text"
              id="chat-input"
              placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi ho·∫∑c ch·ªçn g·ª£i √Ω..."
            />

            <div id="send-button">‚û§</div>
          </div>
        </div>
      </main>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const navItems = document.querySelectorAll(".footer-nav .nav-item");
        const contentSections = document.querySelectorAll(".content-section");
        const ttsAudio = document.getElementById("tts-audio");
        const ttsStatus = document.getElementById("tts-status");
        const ttsHeader = document.getElementById("tts-header");

        // C√°c ph·∫ßn t·ª≠ Chatbot
        const initialBotMessage = document.getElementById(
          "initial-bot-message"
        );
        const chatInput = document.getElementById("chat-input");
        const suggestionButtons = document.querySelectorAll(
          ".user-button.copy-suggestion"
        );
        const sendButton = document.getElementById("send-button");
        const chatArea = document.getElementById("chat-area");

        // H√†m d√πng chung ƒë·ªÉ copy text v√†o input
        function copyToInput(element) {
          if (chatInput) {
            const cleanedText = element.textContent.replace(/\s+/g, " ").trim();
            chatInput.value = cleanedText;
            chatInput.focus();
          }
        }

        // H√†m x·ª≠ l√Ω g·ª≠i tin nh·∫Øn (M√î PH·ªéNG)
        function sendMessage() {
          const message = chatInput.value.trim();

          if (message === "") {
            return;
          }

          // 1. T·∫°o tin nh·∫Øn ng∆∞·ªùi d√πng
          const userMessageDiv = document.createElement("div");
          userMessageDiv.classList.add("user-message");
          userMessageDiv.textContent = message;

          // 2. Th√™m v√†o khu v·ª±c chat
          chatArea.appendChild(userMessageDiv);

          // 3. X√≥a n·ªôi dung input
          chatInput.value = "";

          // 4. Cu·ªôn xu·ªëng d∆∞·ªõi c√πng ƒë·ªÉ xem tin nh·∫Øn m·ªõi nh·∫•t
          chatArea.scrollTop = chatArea.scrollHeight;

          // --- PH·∫¢N H·ªíI M√î PH·ªéNG C·ª¶A BOT ---
          setTimeout(() => {
            const botResponseWrapper = document.createElement("div");
            botResponseWrapper.classList.add("bot-message-wrapper");

            const avatar = document.createElement("div");
            avatar.classList.add("bot-avatar-small");
            botResponseWrapper.appendChild(avatar);

            const botResponse = document.createElement("div");
            botResponse.classList.add("bot-message");
            // Logic ph·∫£n h·ªìi m√¥ ph·ªèng
            if (message.includes("ƒê·∫∑t l·ªãch h·∫πn")) {
              botResponse.textContent =
                "Tuy·ªát v·ªùi! B·∫°n mu·ªën ƒë·∫∑t l·ªãch cho ng√†y n√†o v√† m·∫•y gi·ªù?";
            } else if (message.includes("C·∫£m ∆°n")) {
              botResponse.textContent =
                "Kh√¥ng c√≥ g√¨, t√¥i r·∫•t s·∫µn l√≤ng ph·ª•c v·ª•.";
            } else {
              botResponse.textContent =
                "T√¥i xin l·ªói, hi·ªán t·∫°i t√¥i ch·ªâ h·ªó tr·ª£ ƒë·∫∑t v√© v√† cung c·∫•p th√¥ng tin c∆° b·∫£n.";
            }
            botResponse.style.cursor = "default";
            botResponseWrapper.appendChild(botResponse);

            chatArea.appendChild(botResponseWrapper);
            chatArea.scrollTop = chatArea.scrollHeight;
          }, 500);
        }

        // --- Thi·∫øt l·∫≠p Listeners ---

        // 1. Chuy·ªÉn ƒë·ªïi Tab
        function switchTab(targetId, targetNav) {
          contentSections.forEach((section) => section.classList.add("hidden"));
          navItems.forEach((nav) => nav.classList.remove("active"));

          const targetSection = document.getElementById(targetId);
          if (targetSection) {
            targetSection.classList.remove("hidden");
            targetNav.classList.add("active");
          }
        }

        navItems.forEach((item) => {
          item.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("data-section");
            switchTab(targetId, this);
          });
        });

        // 2. X·ª≠ l√Ω TTS
        if (ttsHeader) {
          const ttsContent =
            "Xin ch√†o qu√Ω du kh√°ch! T√¥i xin ƒë∆∞·ª£c gi·ªõi thi·ªáu ƒë·∫øn qu√Ω v·ªã Ch√πa Linh ·ª®ng ‚Äì Ng≈© H√†nh S∆°n, m·ªôt trong nh·ªØng ng√¥i ch√πa linh thi√™ng v√† n·ªïi ti·∫øng b·∫≠c nh·∫•t ƒê√† N·∫µng, v·ª´a mang gi√° tr·ªã t√¢m linh, v·ª´a l√† ƒëi·ªÉm ƒë·∫øn vƒÉn h√≥a ‚Äì l·ªãch s·ª≠ h·∫•p d·∫´n. Ch√πa ƒë∆∞·ª£c x√¢y d·ª±ng v√†o th·ªùi vua Minh M·∫°ng, kho·∫£ng nƒÉm 1825, v√† n·∫±m tr√™n n√∫i Th·ªßy S∆°n.";

          function generateTTSAudio(text) {
            return "duong_dan_file_tts_thuc_te_cua_ban.mp3";
          }

          ttsHeader.addEventListener("click", function () {
            if (ttsAudio.paused || ttsAudio.ended) {
              ttsStatus.textContent = "ƒêang t·∫£i v√† ph√°t thuy·∫øt minh...";

              const audioUrl = generateTTSAudio(ttsContent);
              ttsAudio.src = audioUrl;

              ttsAudio.play().catch((error) => {
                ttsStatus.textContent =
                  "L·ªói: Kh√¥ng t√¨m th·∫•y file MP3. ƒêang ·ªü ch·∫ø ƒë·ªô m√¥ ph·ªèng.";
              });
            } else {
              ttsAudio.pause();
              ttsStatus.textContent = "ƒê√£ t·∫°m d·ª´ng.";
            }
          });

          ttsAudio.addEventListener("ended", function () {
            ttsStatus.textContent = "Ho√†n th√†nh thuy·∫øt minh.";
          });

          ttsAudio.addEventListener("playing", function () {
            ttsStatus.textContent = "ƒêang ph√°t...";
          });
        }

        // 3. X·ª≠ l√Ω Copy G·ª£i √Ω v√†o Text Box
        if (initialBotMessage) {
          initialBotMessage.addEventListener("click", function () {
            copyToInput(this);
          });
        }
        suggestionButtons.forEach((button) => {
          button.addEventListener("click", function () {
            copyToInput(this);
          });
        });

        // 4. X·ª≠ l√Ω N√∫t G·ª≠i v√† Enter
        if (sendButton) {
          sendButton.addEventListener("click", sendMessage);
        }
        if (chatInput) {
          chatInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              e.preventDefault();
              sendMessage();
            }
          });
        }
      });
    </script>

    <script type="module">
      import { GoogleGenAI } from "https://esm.run/@google/genai";

      const API_KEY = "AIzaSyCh6vSYJFL4Ccj9ur5FsTAvMsihg3lbIC4";
      const genAI = new GoogleGenAI({ apiKey: API_KEY });
      const modelName = "gemini-2.5-flash";
      const SYSTEM_PROMPT = `B·∫°n l√† chatbot t∆∞ v·∫•n du l·ªãch th√¢n thi·ªán t·∫°i khu du l·ªãch Ng≈© H√†nh S∆°n, ƒê√† N·∫µng.
      - Gi·ªõi thi·ªáu c√°c ƒëi·ªÉm: V·ªçng H·∫£i ƒê√†i, ƒê·ªông Huy·ªÅn Kh√¥ng, ƒê·ªông √Çm Ph·ªß, Ch√πa Tam Thai, Ch√πa Linh ·ª®ng...
      - Cung c·∫•p gi√° v√©, gi·ªù m·ªü c·ª≠a, c√°ch di chuy·ªÉn.
      - G·ª£i √Ω l·ªãch tr√¨nh h·ª£p l√Ω cho 1 ng√†y ho·∫∑c n·ª≠a ng√†y.
      - Lu√¥n tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, nhi·ªát t√¨nh, r√µ r√†ng, ng·∫Øn g·ªçn.`;

      const chatInput = document.getElementById("chat-input");
      const sendButton = document.getElementById("send-button");
      const chatArea = document.getElementById("chat-area");

      // G·ª£i √Ω nhanh
      document.querySelectorAll(".copy-suggestion").forEach((btn) => {
        btn.onclick = () => {
          chatInput.value = btn.textContent.trim();
          chatInput.focus();
        };
      });

      window.sendMessage = async function () {
        let message = chatInput.value.trim();
        if (!message) return;

        // Tin nh·∫Øn ng∆∞·ªùi d√πng
        const userDiv = document.createElement("div");
        userDiv.className = "user-message";
        userDiv.textContent = message;
        chatArea.appendChild(userDiv);
        chatInput.value = "";
        chatArea.scrollTop = chatArea.scrollHeight;

        // Tin nh·∫Øn bot (placeholder)
        const botWrapper = document.createElement("div");
        botWrapper.className = "bot-message-wrapper";
        botWrapper.innerHTML = `<div class="bot-avatar-small"></div><div class="bot-message">ƒêang suy nghƒ© ü§î </div>`;
        chatArea.appendChild(botWrapper);
        chatArea.scrollTop = chatArea.scrollHeight;

        try {
          const fullPrompt = SYSTEM_PROMPT + "\n\nNg∆∞·ªùi d√πng: " + message;
          const result = await genAI.models.generateContent({
            model: modelName,
            contents: [{ role: "user", parts: [{ text: fullPrompt }] }],
          });

          // T·ª± ƒë·ªông l√†m ƒë·∫πp n·ªôi dung tr·∫£ v·ªÅ
          let text = result.text
            .replace(/gi√° v√©/gi, '<strong class="price">Gi√° v√©</strong>')
            .replace(/m·ªü c·ª≠a/gi, '<strong class="time">M·ªü c·ª≠a</strong>')
            .replace(/l·ªãch tr√¨nh/gi, "<strong>L·ªãch tr√¨nh g·ª£i √Ω</strong>")
            .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
            .replace(/\n\n/g, '</p><p style="margin:10px 0;">')
            .replace(/\n/g, "<br>");

          // Th√™m box highlight n·∫øu c√≥ th√¥ng tin quan tr·ªçng
          if (text.includes("Gi√° v√©") || text.includes("m·ªü c·ª≠a")) {
            text = `<div class="highlight-box">${text}</div>`;
          }

          botWrapper.querySelector(".bot-message").innerHTML = text;
        } catch (err) {
          console.error(err);
          botWrapper.querySelector(".bot-message").innerHTML =
            "Oops! M√¨nh h∆°i m·ªát t√≠, b·∫°n th·ª≠ l·∫°i sau 10 gi√¢y nh√© <span>Heart</span>";
        }
        chatArea.scrollTop = chatArea.scrollHeight;
      };

      sendButton.addEventListener("click", window.sendMessage);
      chatInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          window.sendMessage();
        }
      });
    </script>
  </body>
</html>
